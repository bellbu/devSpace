* 고객 요청 사항 - 현재 작업 진행사항
 1. [고객 SMS 관리]
  완료 - SMS 수신여부 표시
  완료 - 받는 사람 선택 시 몇 명인지 표시
  완료 - 발신번호 input으로 변경

 2. [예약발송현황]
  완료 - 수신자 및 수신번호 검색
  완료 - 발신번호 input으로 변경
  완료 - 발송부서 로그인한 사람의 부서를 선택(비활성화 처리) : 공통코드 CO018

 3. [직원발송SMS],  [SMS/알림톡관리]
  완료- 예약 전송 기능 추가(예약발송현황에서 관리)
  - 받는 사람 선택 시 몇 명인지 표시
  - 검색 초기화 작업
  - 운영에서 검색 리스트

 4. [예약자공지사항전송]
  - 예약전송 기능
  - 받는 사람 선택 시 몇 명인지 표시
  - 검색 초기화 작업

===========================================================

0) [고객 SMS 관리] - 완료
작업완료 - return false 추가

1) [예약자공지사항전송] - 완료
작업완료 - 예약 전송 기능 추가

2) [직원발송SMS], [예약자공지사항전송], [SMS/알림톡관리]
작업완료 - 검색 초기화 작업
작업완료- 받는 사람 선택 시 몇 명인지 표시

3) [직원발송SMS],
작업완료 - 운영에서 검색리스트

4) 메일점검

5) 테스트

* 주의사항
2. [고객 SMS 관리] 
- jsp : 테스트 위해 && rowData.smsSendYn == "Y" 주석처리
- DB : 테스트 위해 수신번호 등록여부, 수신여부 유효성 체크 주석처리 

3. [예약자공지사항전송]
- jsp : 쿼리 복잡하여 SMS수신여부 셀렉트 못해 수신여부 유효성 검사 처리 못했음

4. [직원발송SMS]
- jsp : 수정 전 부터 직원 수정 시 오류 발생함 => update 추가함

===========================================================

* 수정,추가 내용
1. [공통]
- 초기화, 유효성 검사 추가
- 체크박스 형태 변경, 선택인원 표시 추가
- 발신번호 select박스 => input로 변경  ※ 등록되지 않은 발신번호는 .commonSendMms 메서드 유효성 검사로 인해 전송 안됨. 
- 예약전송 정보 저장 PKG_SMSAndTalkMngt.SP_RSV_INSERT 통일

2. [고객SMS관리]
- 주석처리(472줄) - 현 테이블에 SMS수신여부 존재하지 않아 주석처리함

3. [예약자공지사항전송], [직원발송SMS], [SMS/알림톡관리]
- 예약전송 기능 추가 

4. [예약발송현황]
- JSP
1) 수신자, 수신번호 검색조건 추가 
2) 로그인 정보[발송부서(공통코드:CO018), 사번] 상단 추가

- DB 
1) PKG_AlimtalkTemplateReserveMgnt.SP_SELECT : 검색조건 파라미터 추가 (P_GUEST_NAME, P_HP_NO) 
2) PKG_AlimtalkTemplateReserveMgnt.SP_USER_SELECT : 검색조건 파라미터 추가 (P_GUEST_NAME, P_HP_NO)
3) PKG_AlimtalkTemplateReserveMgnt.SP_USER_UPDATE : 발신번호 수정을 위해 파라미터 추가 (P_CALL_HP_NO)

=====================================================================

고객SMS관리, 예약자공지사항전송, 직원발송SMS, SMS/알림톡관리

0647937010 고객sms
0647936031 예약자공지사항
0647935041 직원발송sms
0647935049 SMS/알림톡관리


1. sendInfut
[{"chk":"Y","guestNo":null,"memName":"황진욱","guestTypeName":null,"sexName":null,"hpNo":"01040399454","smsSendYn":null,"remarks":null,"rnum":1,"sex":null,"totalCount":4,"corpCode":"01","rowKey":0,"sortKey":0,"uniqueKey":"@dataKey1673334099502-0","_attributes":{"rowNum":1,"checked":false,"disabled":false,"checkDisabled":false,"className":{"row":["tui-selected-row"],"column":{"hpNo":["secretCell"]}}},"_disabledPriority":{},"rowSpanMap":{},"_relationListItemMap":{}},
{"chk":"Y","guestNo":null,"memName":"박준서","guestTypeName":null,"sexName":null,"hpNo":"01062327744","smsSendYn":null,"remarks":null,"rnum":2,"sex":null,"totalCount":4,"corpCode":"01","rowKey":1,"sortKey":1,"uniqueKey":"@dataKey1673334099502-1","_attributes":{"rowNum":2,"checked":false,"disabled":false,"checkDisabled":false,"className":{"row":[],"column":{"hpNo":["secretCell"]}}},"_disabledPriority":{},"rowSpanMap":{},"_relationListItemMap":{}},
{"chk":"Y","guestNo":null,"memName":"정연호","guestTypeName":null,"sexName":null,"hpNo":"01066490626","smsSendYn":null,"remarks":null,"rnum":3,"sex":null,"totalCount":4,"corpCode":"01","rowKey":2,"sortKey":2,"uniqueKey":"@dataKey1673334099502-2","_attributes":{"rowNum":3,"checked":false,"disabled":false,"checkDisabled":false,"className":{"row":[],"column":{"hpNo":["secretCell"]}}},"_disabledPriority":{},"rowSpanMap":{},"_relationListItemMap":{}},
{"chk":"Y","guestNo":null,"memName":"김종부","guestTypeName":null,"sexName":null,"hpNo":"01066613076","smsSendYn":null,"remarks":null,"rnum":4,"sex":null,"totalCount":4,"corpCode":"01","rowKey":3,"sortKey":3,"uniqueKey":"@dataKey1673334099502-3","_attributes":{"rowNum":4,"checked":false,"disabled":false,"checkDisabled":false,"className":{"row":[],"column":{"hpNo":["secretCell"]}}},"_disabledPriority":{},"rowSpanMap":{},"_relationListItemMap":{}}]

2. memberGrid
[{"chk":"Y","guestNo":null,"memName":"황진욱","guestTypeName":null,"sexName":null,"hpNo":"01040399454","smsSendYn":null,"remarks":null,"rnum":1,"sex":null,"totalCount":4,"corpCode":"01","rowKey":0,"sortKey":0,"uniqueKey":"@dataKey1673334099502-0","_attributes":{"rowNum":1,"checked":false,"disabled":false,"checkDisabled":false,"className":{"row":["tui-selected-row"],"column":{"hpNo":["secretCell"]}}},"_disabledPriority":{},"rowSpanMap":{},"_relationListItemMap":{}},
{"chk":"Y","guestNo":null,"memName":"박준서","guestTypeName":null,"sexName":null,"hpNo":"01062327744","smsSendYn":null,"remarks":null,"rnum":2,"sex":null,"totalCount":4,"corpCode":"01","rowKey":1,"sortKey":1,"uniqueKey":"@dataKey1673334099502-1","_attributes":{"rowNum":2,"checked":false,"disabled":false,"checkDisabled":false,"className":{"row":[],"column":{"hpNo":["secretCell"]}}},"_disabledPriority":{},"rowSpanMap":{},"_relationListItemMap":{}},
{"chk":"Y","guestNo":null,"memName":"정연호","guestTypeName":null,"sexName":null,"hpNo":"01066490626","smsSendYn":null,"remarks":null,"rnum":3,"sex":null,"totalCount":4,"corpCode":"01","rowKey":2,"sortKey":2,"uniqueKey":"@dataKey1673334099502-2","_attributes":{"rowNum":3,"checked":false,"disabled":false,"checkDisabled":false,"className":{"row":[],"column":{"hpNo":["secretCell"]}}},"_disabledPriority":{},"rowSpanMap":{},"_relationListItemMap":{}},
{"chk":"Y","guestNo":null,"memName":"김종부","guestTypeName":null,"sexName":null,"hpNo":"01066613076","smsSendYn":null,"remarks":null,"rnum":4,"sex":null,"totalCount":4,"corpCode":"01","rowKey":3,"sortKey":3,"uniqueKey":"@dataKey1673334099502-3","_attributes":{"rowNum":4,"checked":false,"disabled":false,"checkDisabled":false,"className":{"row":[],"column":{"hpNo":["secretCell"]}}},"_disabledPriority":{},"rowSpanMap":{},"_relationListItemMap":{}}]

====================================================================================

#2023 - 01 - 31(화) 

완료 - 법인예약조회 -> 화면따서 일반예약 조회 만들기


완료 - 검색조건 멤버사 -> 회원구분

완료 - 그리드 회사명 -> 회원구분
완료 - 그리드 위에 문구 법인예약 조회 -> 일반예약 조회

그리드 순서
- 예약번호(기존) 예약자(기존) 고객구분(신규) 고객유형(신규):guestType(CRA01M), 공통코드(CR003)

검색조건 
- 예약번호(기존) 예약자명(기존):memName 회원번호(신규):memNo(CRA01M) 고객구분(신규):memType(CRA01M)



memNo(회원번호), memType(고객구분), guestType(고객유형) - CR003


쿼리는 법인예약 조회에서 조건 변경 생각해서 해보세용
안되면 제가 제공해드릴게요


CReservListForm


GeneralReservListForm

/rsv/GeneralReservListForm.do
=========================================

구분을 아카데미로 바꾸면 예약자 INPUT에 "아카데미"텍스트 고정으로 바로 저장버튼누르면 저장되게

====================================================================================

#2023 - 02 - 01(수)

법인예약조회 => 화면 따서 일반예약조회 만들어보기
ptc예약 


P_CORP_CODE                    VARCHAR2
                             ,P_ST_DATE                     VARCHAR2
                             ,P_ED_DATE                     VARCHAR2
                             ,P_MEM_TYPE                    VARCHAR2
                             ,P_RESERV_NO                   VARCHAR2
                             ,P_BOOK_NAME                   VARCHAR2
                             ,P_MEM_NO                      VARCHAR2
                             ,O_RESULTLIST                  OUT SYS_REFCURSOR  

====================================================================================

#2023 - 02 - 02(목)
PTC테니스코트 예약

* DB 수정내용
PKG_PtcMembershipScheduleMngm.SP_TIMELIST_SELECT 프로시저 "쿼리수정" : P_GUEST_NAME, P_RESERV_GUBUN 파라미터 추가

* sms문자 테스트 위해서 주석처리 부분 
skPinxPmsBathConfig.java에서 Batch_ReservSMS_Select 파트
502줄 주석처리        /*			if(ip.equals("192.168.1.107") && pmsTomcatCheck) {*/
521줄 주석처리				/* } *

GUEST_NO 고객번호(한 사람 하나) - CRA01M
MEM_NO 회원번호(한 사람 여러개) - CRA02M
MEM_TYPE 고객구분(CR034 : 일반골프회원, 골드회원, 법인PKG, 비오토피아) - CRA01M, CRA02M
GUEST_TYPE 고객유형(CR003 : 본인, 가족/지정인, 기타) - CRA01M, CRA02M
OFFICE_NAME 직장명 - CRA01M
IDX 순번 - CRA02M
RELATION 관계구분(고객유형보다 디테일)(CR008 : 본인, 가족, 지정인, 동료, 배우자, 지정인(배우자), 골프지정인, 지정인) - CRA02M

1. 회원정보 탭

질문)
고객유형, 관계 차이???


====================================================================================

#2023 - 02 - 06(월)
레시피 관리

모든 이미지
원칙적으로 2MB이하 사진만 등록 가능
2메가 이미지 오류 발생

19개이하만 등록 가능

일반예약조회
고객구분예약번호 앞으로
고객구분 예약자 앞에 온천그리드 줄이기
팝업 회원명, 회원번호 추가(가족/지정인관리 페이지 참고)

====================================================================================

#2023 - 02 - 08(수)

1. 정비객실등록(9일까지 개발완료/10일 테스트)
완료 - 1) 일괄저장 ex)박준서 101, 102 한번에 저장
  - 서비스단 로직 생각
  - DB 쿼리 및 파라미터 확인  

완료 - 2) 객실정보 그리드 투숙객명 옆에 칼럼 추가 
  - 테블릿 객실 담당사원 SELECT 참고

 3) 메이드검색 팝업 객실 구분 추가(객실구분은 정비원등록(메이드) 참고)

 4) 알림말 추가
 신규등록, 수정 사항

* 복구 내용
그리드에서 roomNo, makeYn, type 히든처리
그리드에서 roomNo, makeYn, type  width 주석처리
그리드에서 remarks의 width:400 처리

* 예외처리
완료 - 체크 없이 저장 유효성 처리
완료 - 체크 객실번호랑 오른쪽 객실번호가 다른경우 저장X

* 수정내용
PKG_RoomMakeupStatMngm.SP_SELECT_ROOM 프로시저 수정 : 쿼리 수정
PKG_MaidListPop.SP_SELECT 프로시저 수정 : 파라미터 추가, 조건절 쿼리 


다중선택 시 신규는 선택된 객실 모두 등록되고 수정은 해당 객실만 됩니다.

================================================================

업무 양식
1. 업무제목
1) 업무내용
- 세부내용
2) 업무내용
- 세부내용

* 복구내용
* 예외처리
* 수정내용

====================================================================================

#2023 - 02 - 15(수)

1. 업무제목
- 레시피 관리
1) 업무내용
AND RCP_MNGM_YN = 'Y / AND USE_YN = 'Y' 인 경우 업데이트
수량 갯수 확인


자재관리 품목 수정/추가한 경우 해당 메뉴코드에 인서트/업데이트 
그리고 해당 메뉴코드를 가진 레시피 업데이트



* 복구내용
첫째 그리드 rcpDetailYn, 둘째 그리드 menuCode 히든 처리

* 예외처리

* 수정내용
PKG_RetrieveRecipeMngmForm.SP_INSERT 내용 추가
PKG_RetrieveRecipeMngmForm.SP_SELECT_RECIP_PRICE 수정


=================================================================================

골프예약추천인관리 

1. 한도차감 Y,N 수정가능하게 변경(추천인 변경 참고)
2. 변경하면 RSA50S 비고내역에 추천인 변경 : " -> ", 한도차감 변경 : " -> " 나타냄

개인별예약변경 
1. 변경이력 나타냄


수정 시 개인별예약변경


추천자 변경(현재 가능)

한도차감 'y' 'n'변경 할 수 있도록

  --> 변경하면 비고에 내역 rsa50s 비고에
[추천인 변경 : '' -> '']
[한도차감 변경 : '' -> ''/]

----------------------------------------------------

골프예약추천인관리

	골프예약추천인관리 -> 추천인 OR 한도차감 변경 시
	RSA50H	->	INSERT
		HISTORY_MODE = 'UPDATE'
		들어갈 정보들 RSA50S에 다 있음.(RESERV_NO, RESERV_SEQ.........)

====================================================================================

#2023 - 02 - 16(목)

- 정비객실 등록
업무코드: WD2023-305

업무내용: 정비원 삭제 기능 추가(시작일 없는거)

* DB 수정내용
PKG_RoomMakeupStatMngm.SP_DELETE 프로시저 추가


====================================================================================

#2023 - 02 - 20(월)

1. 핀크스 레시피 관리 (WD2023-320) / 저용량 업데이트(WD2023-332) / 고정락카(WD2023-363)
* 수정내용 (-- 2023-02-20으로 주석처리)
PKG_RetrieveRecipeMngmForm.SP_INSERT 수정 (POA02S 테이블에 품목이 없는 경우 있어 이너조인으로 변경, 쿼리 속도 향상을 위해 조건에 맞는 경우에만 업데이트 하도록 변경)
PKG_RetrieveRecipeMngmForm.SP_SELECT_RECIP_PRICE 수정 (POA02S 이너조인으로 변경하여 품목추가 시 단가 통일성 있게 처리)

2. 핀크스 테블릿 (WD2023-126)
작업완료 - 1) 시설정비요청/분실물등록 접수 후 뒤로가기로 통일

작업보류 - 1.5) 청소시작,인스펙터 확인, 청소완료 후 작업중인 화면 이동

작업완료 - 2) 메인화면 그리드 객실번호 옆에 객실타입(RB003) 추가
    - 객실 정보는 pms 객실정보등록에 등록 참고

작업완료 - 3) 검색조건 필터 추가

작업완료 - 4) 고장객실 표기(빨강 배경색 OR 빨강 폰트)
  - PMS 고장객실 등록 => 인디케이터 조회 고장 표시됨 : PMS RBD03H 레프트 조인 참고  

객실타입 : 고장 표시
상태 : 점검요청 표시


  5) 메인화면 시설정비조회 버튼 및 기능 추가 (http://localhost:9999/tablet/bio 참고)
    - 메이드 로그인 시 hide
    - 관리자&인스펙터 로그인 시 show	
    - 참고한 비오 시설정비조회 화면 비율 다르므로 주의

* 복구 내용
히든삭제 복구 id="cleanType"

* 수정 내용
1. USERVE.PKG_ROOMFIXLIST.SP_SELECT 프로시저 수정 
 - 고장객실 셀렉트 위해서 RBD03H 테이블 LEFT 조인하여 컬럼 CASE WHEN H.BDW_STAT = '002' THEN '고장' ROOM_STAT_NAME 부분 수정 

2. PKG_Roominfo.SP_MERGE2 프로시저 생성
 - 청소시작 후 작업페이지 GET 방식 URL 생성을 위해 O_ST_TIME, O_MTC_NO 파라미터 추가  

* 계정					
포도호텔 메이드 아이디 : 000050(장민숙) 비번: 1q2w3e^^
포도호텔 인스펙터 아이디 : 000051(김은희) 비번: 1q2w3e^^
비오토피아 메이드 아이디: 000040(한경배) 비번: 1q2w3e^^
비오토피아 인스펙터 아이디: 000041(벨라) 비번: 1q2w3e^^
디아넥스 메이드 아이디: 000080(한성철) 비번: 1q2w3e^^
디아넥스 인스펙터 아이디: 000081(이준호) 비번: 1q2w3e^^


====================================================================================

#2023 - 02 - 21(화)

핀크스 레시피 관리

현재 REAL_UNIT대로 가격 업데이트

수정 품목추가시 UNIT 가격 


http://localhost:9999/tablet/RoomInfo.do?upjangCode=2201&roomNo=2012&mtcNo=3&cleanStatNo=02&stTime=14:55
http://localhost:9999/tablet/RoomInfo.do?upjangCode=2201&roomNo=2012&mtcNo=2&cleanStatNo=03&stTime=14:55


====================================================================================

#2023 - 02 - 22(수)

시설정비 현황

1. 메인화면 시설정비조회 버튼 및 기능 추가 (http://localhost:9999/tablet/bio 참고)
  - 메이드 로그인 시 hide
  - 관리자&인스펙터 로그인 시 show	
  - 참고한 비오 시설정비조회 화면 비율 다르므로 주의

* 복구 내용


* 수정 내용


window.location.href = '/tablet/BioTable.do';



===========================================================================    
  2023-02-23 (목)

골프예약추천인관리, 개인별예약변경(변경이력 나타나게)

완료 - 1. 고객구분 선택 검색조회X
완료 - 2. 고객명단에 고객구분 컬럼 표시
완료 - 3. 일반고객 포함 예약건 조회 (cra01m 조인)
완료 - 4. 추천자 변경 시 변경사유 입력 받아 처리(저장 누를 시 사유 입력받게 PROMPT 사용) 
  
  개인별예약변경 페이지에서 변경이력 나타나게함

  5. [골프예역추천인관리] => [골프예약추천인변경관리] 명칭 변경 후 동일프로그램 복사하여 [골프예역추천인관리] 추가로 메뉴 생성 
    


* 가이드
 cra01m ->  고객정보(가입X)

 cra02m -> 회원권 정보

법인pkg => 회원권X



3.
골프예약은 8주 뒤꺼를 받음.
2022년도 법인pkg 회원권이 있던 고객이 2022년 11~12월에 2023년 1~2월 예약 가능.
근데 이 사람이 22년도에 23년도 갱신이 될지 안될지 100프로 확신 못 함.
23년도 1월에 갑자기 전출? 퇴직 기타 사유로 갱신 안됨
그러면 한도(포인트) 차감을 했던 건을 다른 법인pkg회원권으로 돌려서 차감해야 함.

4.
동 -> 서코스 원하심. / 입력문자 / 
UPDATE시
동->서코스 원하심. / 추천인 변경 : ' ' -> '나동주3' / 변경 사유 : 테스트 중
동->서코스 원하심. / 추천인 변경 : ' ' -> '나동주3' / 변경사유:xxxx  / 추천인 삭제 / 삭제 사유: xxxxx / 

* 골프예약추천인관리 테이블
RSA50S : 골프예약(PK:예약번호,예약타임순번) -- 내장자, 추천자
RSA51S : 통합예약(PK:예약번호)  -- 예약자, 신청자, 
CRA01M : 고객정보(PK:고객번호) - 회원권X

CRA02M : 회원추가정보(PK:회원번호, IDX) - 회원권O
CRA04M : 회원 혜택 마스터(PK:회원번호)
CRA05M : 회원 포인트(PX:회원번호, 년도)

* 개인별예약변경 테이블
RSC01M : 객실 예약(PK:예약번호, 예약순번) 
RSC01H : 객실 예약 히스토리(PK: 예약번호, 예약번호, 예약순번, SEQ)
RSA50H : 골프예약 히스토리(PK: 예약번호, 예약번호, 예약순번, SEQ)
RSA55s : 통합예약 취소 정보(예약번호, 예약순번)

* RSA50S 업데이트 후 => RSA50H 인서트

* 골프예약추천인관리 수정내용
PKG_CORPPKGRSVRECOMMNGM.SP_SELECT2 프로시저 수정: 기존 프로시저 주석처리 후 전체수정
PKG_CORPPKGRSVRECOMMNGM.SP_SELECT_RSV2 프로시저 수정 : 셀릭트 칼럼 추가 (ORG_RECOM_MEM_NO, ORG_RECOM_NAME) 
PKG_CORPPKGRSVRECOMMNGM.SP_UPDATE2 추가


* 개인별예약변경 수정내용
PKG_EachReservModifyHistory.SP_MODIFY_LIST_SELECT 수정

* 문의 사항
- 한도차감 변경 시 비고란에 나타내고, SELECT 해올 때 한번 더 나타냄
- 추천인 변경 시 로우 생성될 때 있으므로 마지막 선택된 ROWKEY 변경 될 때 있음



===========================================================================    
  2023-02-23 (목)

골프예약추천인관리  골프예약추천인변경관리
한도차감부분 변경O  한도차감부분 변경X 


* 비고란 사이즈 조절 해야 됨

* 수정내용
1) 골프예약추천인관리
PKG_CORPPKGRSVRECOMMNGM.SP_SELECT2 수정
PKG_CORPPKGRSVRECOMMNGM.SP_SELECT_RSV2 수정
PKG_CORPPKGRSVRECOMMNGM.SP_UPDATE2 추가

2) 개인별예약변경 - 변경이력
PKG_EachReservModifyHistory.SP_MODIFY_LIST_SELECT


===========================================================================    
  
  2023-03-02 (목)


border-right: 1px solid #d7d7d7 !important;


            V_MTC_NO          VARCHAR2(6);
               V_ORG_MTC_NO          VARCHAR2(6);
               V_MTC_NO_CNT          VARCHAR2(6);
               V_TIME_CHECK   VARCHAR2(10);



                BEGIN
                
                SELECT COUNT(*) OVER(), MTC_NO INTO V_MTC_NO_CNT, V_ORG_MTC_NO
                FROM RBD04H
                WHERE CORP_CODE = P_CORP_CODE
                AND ROOM_NO = P_ROOM_NO
                AND UPJANG_CODE = P_UPJANG_CODE
                AND MTC_NO = P_MTC_NO;
                
                 EXCEPTION WHEN NO_DATA_FOUND THEN
             
                V_MTC_NO_CNT := 0;    
                V_ORG_MTC_NO := ' ';
                
                END;


                2008호 1



* 수정내용
PKG_Roominfo.SP_MERGE2 수정
PKG_Roominfo.SP_REMARKS_REG2 수정

전체조건으로 수정
bookname

===========================================================================    
  
  2023-03-03 (금)

* 오늘 작업 내용
골프예약추천인관리, 골프예약추천인변경관리 
완료 - 추천인 삭제
- 리스트 변경
완료 - 사유 입력 확인

추천자 삭제
- 고객번호(recomGuestNo)
- 회원번호(recomMemNo)
- 추천인 고객번호, 회원번호 없음 => 추천인 비어있는 경우 추천인 삭제 비고 처리됨
- 삭제 파라미터 받아야 함

==========================================================
청소재시작
- 재시작시 파라미터 : {upjangCode=2101, roomNo=101, roomStat=재실, stTime=16:18, mtcNo=100, type=readd, edTime=16:45, maidName=김종부, gscName=123, maidNo=, cleanStatCode=01, cleanStat=청소완료, roomType=디럭스 양실(트윈), remarks=} 
- 비고처리

테블릿 시설정비 현황
- 자체점검 탭 제거
- 주택조회 메인화면 따서 가져오기
- 리스트 셀렉트 쿼리는 PMS 객실수리접수현황 참고(PKG_HouseRepairRequestReq.SP_SELECT)

* 업무리스트
완료 - 자체점검 탭 제거
완료 - 권한에 따른 시설정비 현황 버튼(메이드 계정 접근 시 hide,관리자&인스펙터 Show), 
완료 - 호텔 셀렉트(인스펙터 셀렉트 hide, 관리자 셀렉트 show)
완료 - 로그인 정보 가져오기
완료 - 객실조회 가져오기(리스트)
완료 - 비고처리
완료 - 셀렉트 쿼리 작성
완료 - 리스트 길이 조절
완료 - 확인일자
- 전송처리

* 수정내용 
PKG_Roominfo.SP_INSERT2 2생성하여 추가 : 재시작 비고처리
PKG_RoomRegRetrieve.SP_SELECT 추가 : 시설정비 리스트 가져오기(확인/완료 처리 및 수정은 비오그대로 가져다 씀)

* 작업내용
완료 - 운영에 프로시저 추가
완료 - 페이지 제목  상세현황 변경, 삭제 이미지 높이 조절
완료 - 운영서버에서 이미지 확인
- 운영에서 접수사원 확인

* 계정					
포도호텔 메이드 아이디 : 000050(장민숙) 비번: 1q2w3e^^
포도호텔 인스펙터 아이디 : 000051(김은희) 비번: 1q2w3e^^
비오토피아 메이드 아이디: 000040(한경배) 비번: 1q2w3e^^
비오토피아 인스펙터 아이디: 000041(벨라) 비번: 1q2w3e^^
디아넥스 메이드 아이디: 000080(한성철) 비번: 1q2w3e^^
디아넥스 인스펙터 아이디: 000081(이준호) 비번: 1q2w3e^^

 (http://localhost:9999/tablet/bio 참고)


BTM20M 주택수리요청접수(PK: ACCEPT_NO 접수번호)
BTM21M 주택수리요청 확인처리(PK: ACCEPT_NO 접수번호)
BTM01M 주택입주정보(PK: ROOOM_NO 객실번호(주택번호))
CRA02M 회원추가정보(PK: MEM_NO 회원번호, IDX 순번)
CRA01M 고객정보(PK: GUEST_NO 고객번호)


관리구분 일반주택:00/멤버사:11

접수일, 
객실번호, 
업장코드, 
(멤버사, 일반주택),
 (접수, 확인, 완료)

* 주택수리진행상태
GET_COMMCODE(B20.CORP_CODE,'BT010',B20.ACCEPT_STAT) AS ACCEPT_STAT_N,
1. 접수, 2. 확인, 3. 완료



박준서 책임님 운영 객실 접속하려고 하는데 아이디랑 비번 좀 알 수 있을까요??


====================================================================================

2023-03-10 (금)

	 $("#sDate").getCal() != '20230310' || '20230311'--> 검색
	 ALERT('금일 또는 명일 외에 조회가 불가능합니다.');
	 RETURN;



====================================================================================

2023-03-13 (월)

완료 - “Lost & Found” 데이터 order by 기준 
- 직원발송sms인원 카운트

					$('[data-grid-id=2] .tui-grid-cell-summary[data-column-name=empName]').text(chkTotal+'명').css({"font-size":"13px", "text-align":"left"});



게실글 작성 상태 - PMS	WD2023-519	PTC멤버쉽회원 등록 	 -	가입등급 너비 조정	김종부
                  PMS	WD2023-517	내장객특이사항조회   -	오늘/내일 조회 할 수 있도록 기간제한	김종부
In Review 상태 - PMS	WD2023-542	Lost & Found       - 접수일자 기준으로 ORDER BY 추가	김종부
게실글 작성 상태 - PMS	WD2023-526	직원발송SMS	        - 체크이벤트 함수 수정


@김종부
○ 2023-03-14(화)
1. 발생원인
1) 

2. 조치내역
1) 

3. 개발 완료 후 검증방법(최대한 상세히 검증방법 기술 요청드립니다.)
1)
  
 4. 반영 일자

1) DB반영 

    없음

2) 소스반영
    2023-03-14(화) 야간 운영 반영 예정이며,
    2023-03-15(수) 부터 운영 확인 가능하십니다.
    운영 반영 시 확인 후 INREVIEW 요청드리도록 하겠습니다.
    감사합니다.

- DB변경 작업이라 별도의 반영 작업 필요 없어 현재 운영서버에 적용 되었습니다. 확인부탁드리겠습니다.

쿼리 반영 = 즉시/ 소스 반영 = 익일 확인 하시어 적용 시점 기입 부탁 드립니다.


* gridData
{"Param":{"sStDate":"20230202","sEdDate":"20230314","sRoomType":"","sManagementType":"","sRelativeType":"","sOwnerGuestName":"","sRoomNo":"","sSearchName":"","state":"CheckInPerformance.Select"},
"IdData":[{"key":"roomNo"},{"key":"ownerGuestName"},{"key":"cci"},{"key":"cco"},{"key":"stayinDayCnt"},{"key":"realCcoDate"},{"key":"realStayinDayCnt"},{"key":"jata"},{"key":"gscName"},{"key":"fellowName"},{"key":"gscTelNo"},{"key":"bookName"},{"key":"membersa"},{"key":"rRemarks"}],"Footer":{},
"ExcelTitle":"입실실적현황",
"NameData":[{"name":"객실번호","width":60},{"name":"소유자명","width":200},{"name":"입실일시","width":110},{"name":"퇴실일시","width":110},{"name":"숙박일수","width":80},{"name":"실퇴실일자","width":110},{"name":"실숙박일수","width":80},{"name":"이용구분","width":100},{"name":"투숙객명","width":100},{"name":"동숙자명","width":100},{"name":"연락처","width":100},{"name":"예약자명","width":100},{"name":"멤버사명","width":150},{"name":"비고","width":350}],
"NoAlignData":[{"center":0},{"left":1},{"center":2},{"center":3},{"right":4},{"center":5},{"right":6},{"center":7},{"left":8},{"left":9},{"center":10},{"left":11},{"left":12},{"left":13}],"MergeData":[],"GroupHeaderData":[],"MergeYN":"Y"}

* param
{postData={"Param":{"sStDate":"20230202","sEdDate":"20230314","sRoomType":"","sManagementType":"","sRelativeType":"","sOwnerGuestName":"","sRoomNo":"","sSearchName":"","state":"CheckInPerformance.Select"},
"IdData":[{"key":"roomNo"},{"key":"ownerGuestName"},{"key":"cci"},{"key":"cco"},{"key":"stayinDayCnt"},{"key":"realCcoDate"},{"key":"realStayinDayCnt"},{"key":"jata"},{"key":"gscName"},{"key":"fellowName"},{"key":"gscTelNo"},{"key":"bookName"},{"key":"membersa"},{"key":"rRemarks"}],"Footer":{},"ExcelTitle":"입실실적현황","NameData":[{"name":"객실번호","width":60},{"name":"소유자명","width":200},{"name":"입실일시","width":110},{"name":"퇴실일시","width":110},{"name":"숙박일수","width":80},{"name":"실퇴실일자","width":110},{"name":"실숙박일수","width":80},{"name":"이용구분","width":100},{"name":"투숙객명","width":100},{"name":"동숙자명","width":100},{"name":"연락처","width":100},{"name":"예약자명","width":100},{"name":"멤버사명","width":150},{"name":"비고","width":350}],"NoAlignData":[{"center":0},{"left":1},{"center":2},{"center":3},{"right":4},{"center":5},{"right":6},{"center":7},{"left":8},{"left":9},{"center":10},{"left":11},{"left":12},{"left":13}],"MergeData":[],"GroupHeaderData":[],"MergeYN":"Y"}}

* QueryParam
{sStDate=20230202, sSearchName=, sRoomNo=, sRelativeType=, sManagementType=, sRoomType=, state=CheckInPerformance.Select, sEdDate=20230314, sOwnerGuestName=}

* resultData
{O_LIST=[{gscTelNo=null, membersa=null, roomNo=C9-101, ownerGuestName=김정주, rRequestRelative=null, oldHouseNo=309101, cci=2021-06-28 :, upjang=비오토피아, fellowName=null, bookName=김정주, rRemarks=null, cco=2023-12-15 :, relativeType=null, stayinDayCnt=40, realCcoDate=null, realStayinDayCnt=null, jata=null, gscName=김정주, rRelativeType=null}, 
{gscTelNo=null, membersa=null, roomNo=West 11, ownerGuestName=김채현, rRequestRelative=null, oldHouseNo=720011, cci=2020-11-21 :, upjang=비오토피아, fellowName=null, bookName=***, rRemarks=퇴실일 미정, cco=2023-08-17 :, relativeType=null, stayinDayCnt=40, realCcoDate=null, realStayinDayCnt=null, jata=null, gscName=김채현, rRelativeType=null}], sRoomNo=, loginVO=LoginVO [corpCode=01, empId=3076, empIp=0:0:0:0:0:0:0:1, empNo=3119, empName=김종부, passwordCode=1q2w3e^^, passwordPos=, useYn=Y, posLoginDate=, backLoginDate=, loginFlag=, passwordCheck=, authGroupCode=00001, perUpjangCode=null, loginLockYn=, authCode=, lastLoginDate=2023-03-10 14:15, lastLoginIp=192.168.31.1], sRelativeType=, sRoomType=, sEdDate=20230314, intPageSize=10000, sOwnerGuestName=, sStDate=20230202, sSearchName=, sManagementType=, state=CheckInPerformance.Select, page=1}

* GridData
[{"gscTelNo":null,"membersa":null,"roomNo":"C9-101","ownerGuestName":"김정주","rRequestRelative":null,"oldHouseNo":"309101","cci":"2021-06-28 :","upjang":"비오토피아","fellowName":null,"bookName":"김정주","rRemarks":null,"cco":"2023-12-15 :","relativeType":null,"stayinDayCnt":40,"realCcoDate":null,"realStayinDayCnt":null,"jata":null,"gscName":"김정주","rRelativeType":null},{"gscTelNo":null,"membersa":null,"roomNo":"West 11","ownerGuestName":"김채현","rRequestRelative":null,"oldHouseNo":"720011","cci":"2020-11-21 :","upjang":"비오토피아","fellowName":null,"bookName":"***","rRemarks":"퇴실일 미정","cco":"2023-08-17 :","relativeType":null,"stayinDayCnt":40,"realCcoDate":null,"realStayinDayCnt":null,"jata":null,"gscName":"김채현","rRelativeType":null},{}]

* JsonData
{JsonData={"Param":{"sStDate":"20230202","sEdDate":"20230314","sRoomType":"","sManagementType":"","sRelativeType":"","sOwnerGuestName":"","sRoomNo":"","sSearchName":"","state":"CheckInPerformance.Select"},
"IdData":[{"key":"roomNo"},{"key":"ownerGuestName"},{"key":"cci"},{"key":"cco"},{"key":"stayinDayCnt"},{"key":"realCcoDate"},{"key":"realStayinDayCnt"},{"key":"jata"},{"key":"gscName"},{"key":"fellowName"},{"key":"gscTelNo"},{"key":"bookName"},{"key":"membersa"},{"key":"rRemarks"}],"Footer":{},
"ExcelTitle":"입실실적현황",
"NameData":[{"name":"객실번호","width":60},{"name":"소유자명","width":200},{"name":"입실일시","width":110},{"name":"퇴실일시","width":110},{"name":"숙박일수","width":80},{"name":"실퇴실일자","width":110},{"name":"실숙박일수","width":80},{"name":"이용구분","width":100},{"name":"투숙객명","width":100},{"name":"동숙자명","width":100},{"name":"연락처","width":100},{"name":"예약자명","width":100},{"name":"멤버사명","width":150},{"name":"비고","width":350}],"NoAlignData":[{"center":0},{"left":1},{"center":2},{"center":3},{"right":4},{"center":5},{"right":6},{"center":7},{"left":8},{"left":9},{"center":10},{"left":11},{"left":12},{"left":13}],"MergeData":[],"GroupHeaderData":[],"MergeYN":"Y",
"GridData":[{"gscTelNo":null,"membersa":null,"roomNo":"C9-101","ownerGuestName":"김정주","rRequestRelative":null,"oldHouseNo":"309101","cci":"2021-06-28 :","upjang":"비오토피아","fellowName":null,"bookName":"김정주","rRemarks":null,"cco":"2023-12-15 :","relativeType":null,"stayinDayCnt":40,"realCcoDate":null,"realStayinDayCnt":null,"jata":null,"gscName":"김정주","rRelativeType":null},{"gscTelNo":null,"membersa":null,"roomNo":"West 11","ownerGuestName":"김채현","rRequestRelative":null,"oldHouseNo":"720011","cci":"2020-11-21 :","upjang":"비오토피아","fellowName":null,"bookName":"***","rRemarks":"퇴실일 미정","cco":"2023-08-17 :","relativeType":null,"stayinDayCnt":40,"realCcoDate":null,"realStayinDayCnt":null,"jata":null,"gscName":"김채현","rRelativeType":null},{}]}}



{"ExcelTitle":"코드관리",
"GridData":[{"head":"AM002","detailName":"행사유형","detailNameEn":"en_행사유형","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"AM003","detailName":"지급방법","detailNameEn":"en_지급방법","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"AM005","detailName":"행사진행상태","detailNameEn":"en_행사진행상태","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"AM006","detailName":"마켓구분","detailNameEn":"en_마켓구분","useYn":"예","detail":"*","displaySeq":"","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"AM008","detailName":"단체구분","detailNameEn":"en_단체구분","useYn":"아니오","detail":"*","displaySeq":"","item1":"연부킹여부","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"AM010","detailName":"지역코드","detailNameEn":"en_지역코드","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"우편번호지역명","item6":"우편번호여부","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BA001","detailName":"수납유형","detailNameEn":"en_수납유형","useYn":"아니오","detail":"*","displaySeq":"","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BA002","detailName":"음양구분","detailNameEn":"en_음양구분","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BA003","detailName":"영업장코드","detailNameEn":"en_영업장코드","useYn":"예","detail":"*","displaySeq":"","item1":"기간별입장객현황","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BA004","detailName":"기간별입장객현황","detailNameEn":"en_기간별입장객현황","useYn":"아니오","detail":"*","displaySeq":"","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BA005","detailName":"자동전표계정","detailNameEn":"en_자동전표계정","useYn":"아니오","detail":"*","displaySeq":"","item1":"사업장","item2":"영업장구분","item3":"거래처코드","item4":"거래처명","item5":"프로젝트코드","item6":"프로젝트명","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BA007","detailName":"매출일보","detailNameEn":"en_매출일보","useYn":"아니오","detail":"*","displaySeq":"","item1":"사업부문","item2":"구분","item3":"영업장(대)","item4":"영업장(중)","item5":"영업장(소)","item6":"단가","item7":"월목표","item8":"년목표","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BA008","detailName":"대매사판매여부","detailNameEn":"en_대매사판매여부","useYn":"예","detail":"*","displaySeq":"0","item1":"SALE_YN","item2":"TICKET_YN","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BIZ01","detailName":"기업관리 인증방법","detailNameEn":"en_기업관리 인증방법","useYn":"예","detail":"*","displaySeq":"","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS001","detailName":"영업장구분","detailNameEn":"en_영업장구분","useYn":"예","detail":"*","displaySeq":"0","item1":"UPJANG_DIV","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS002","detailName":"영업장유형","detailNameEn":"en_영업장유형","useYn":"예","detail":"*","displaySeq":"0","item1":"UPJANG_TYPE","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS003","detailName":"운영방식","detailNameEn":"en_운영방식","useYn":"예","detail":"*","displaySeq":"0","item1":"MANAGE_TYPE","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS004","detailName":"시작화면","detailNameEn":"en_시작화면","useYn":"예","detail":"*","displaySeq":"","item1":"SCREEN_TYPE","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS007","detailName":"상품타입","detailNameEn":"en_상품타입","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS011","detailName":"시즌구분","detailNameEn":"en_시즌구분","useYn":"예","detail":"*","displaySeq":"0","item1":"위터파크 시즌","item2":"","item3":"","item4":" 시즌","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS012","detailName":"영업구분","detailNameEn":"en_영업구분","useYn":"예","detail":"*","displaySeq":"0","item1":"휴일구분","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS013","detailName":"우대유형","detailNameEn":"en_우대유형","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS014","detailName":"우대구분","detailNameEn":"en_우대구분","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS015","detailName":"결제코드","detailNameEn":"en_결제코드","useYn":"예","detail":"*","displaySeq":"0","item1":"PAY_CODE","item2":"계정코드","item3":"증빙구분","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS016","detailName":"할인율 구분","detailNameEn":"en_할인율 구분","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS018","detailName":"대인/소인","detailNameEn":"en_대인/소인","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS020","detailName":"사업부문","detailNameEn":"en_사업부문","useYn":"예","detail":"*","displaySeq":"0","item1":"귀속부서","item2":"계정코드","item3":"","item4":"회계bizp_code","item5":"증빙구분","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS021","detailName":"상품권판매사유","detailNameEn":"en_상품권판매사유","useYn":"예","detail":"*","displaySeq":"0","item1":"sale_reason_code","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS022","detailName":"마감관리프로세스","detailNameEn":"en_마감관리프로세스","useYn":"예","detail":"*","displaySeq":"","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS023","detailName":"요일코드","detailNameEn":"en_요일코드","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS024","detailName":"이용권변경구분","detailNameEn":"en_이용권변경구분","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS025","detailName":"상품권상태구분","detailNameEn":"en_상품권상태구분","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS026","detailName":"접대구분","detailNameEn":"en_접대구분","useYn":"예","detail":"*","displaySeq":"0","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS029","detailName":"락카지역구분","detailNameEn":"en_락카지역구분","useYn":"예","detail":"*","displaySeq":"","item1":"","item2":"","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS032","detailName":"메뉴대분류","detailNameEn":"en_메뉴대분류","useYn":"예","detail":"*","displaySeq":"","item1":"대분류","item2":"설명","item3":"","item4":"","item5":"","item6":"","item7":"","item8":"","item9":"","item10":"","item11":"","item12":"","item13":"","item14":"","item15":""},{"head":"BS033","detailName":"메뉴중분류","detailNameE...



001234 / userve0822

================================================================================================================

* 토스트/jq 그리드 비교

* 토스트 그리드/ jq 그리드
var targetInstance = $("#gr_List").getGrid();  // $("#gr_List").jqGrid('getGridParam');
var columnNames = targetInstance.getColumns(); // $("#gr_List").jqGrid('getGridParam', 'colNames');
var GroupHeaderArrayData = targetInstance.store.column.complexColumnHeaders; // var GroupHeaderArray = $("#gr_List").jqGrid("getGridParam", "groupHeader");
 


@김종부
○ 2023-03-14(화)
1. 발생원인
 a.

2. 조치내역
 a. 

3. 개발 완료 후 검증방법(최대한 상세히 검증방법 기술 요청드립니다.)
  a.
  
 4. 반영 일자

  a. DB반영 

    없음

  b. 소스반영
    2023-03-14(화) 야간 운영 반영 예정이며,
    2023-03-15(수) 부터 운영 확인 가능하십니다.
    운영 반영 시 확인 후 INREVIEW 요청드리도록 하겠습니다.
    감사합니다.

===========================================================================

* 테블릿 

회원관리 이미지 pms 참고. base64 인코딩
테이블 필요

PMS
 비오토피아 - 주택수리접수현황 
 객실영업 - 객실수리접수현황
 파일형식 이미지형식인것만 base64 인코딩 해서 데이터 저장

MOBILE
 이미지 저장 할때 FTP -> BASE64 인코딩 해서 데이터 저장
 - 비오토피아 APP IMAGE SRC 변경
 - 객실정비  APP    

 ===============================================================================

* 정연호 선임 업무
골프예약추천인변경관리 => 추천자 검색에서 신규화면(회원 골프 예약/이용실적 조회) 생성 (검색조건: 고객구분, 멤버사, 고객번호 추가) => 조건 검색은 골프예약추천인변경관리 참고
“엑셀” 클릭 시 개인에 대한 데이터가 아닌, 회원 명단에 대한 데이터가 변환 되도록 부탁 드립니다. 
(고객번호 기준으로 출력??)
관계사/멤버사 차이??
잔여횟수는 계에서 제한일수 빼면 됨(회원관리 페이지 혜택 탭 참고)

* 질문사항
1) 엑셀 변환 시 회원번호 기준으로 데이터 출력 
2) 잔여횟수(년 기준) = 제한일수 - 계
3) 잔여횟수는 계에서 제한일수 빼면 됨(회원관리 페이지 혜택 탭 참고)
4) 관계사/멤버사 같음
5) 2023년 기본세팅
6) 히든처리 엑셀 처리

회원 골프 예약/이용실적 조회

* 수정내용

* 원복내용

기준년도 하드코딩 파라미터 넘겨주지 않음

?? 기준년도: 쿼리 조건절X

--고객구분(CRA01M) : C01.MEM_TYPE 
--고객명(CRA01M): C01.MEM_NAME
?? 멤버사(CRA05M): RELATION_TYPE

고객번호 : C01.GUEST_NO, 

- BSH01M 월력정보(월려코드, 영업년월일)
- RSA50S 골프예약(예약번호, 예약타임순번)
- RSA52S 골프타임시트(일자, 코스, 시간)

==================================================================

2023-03-23(목)
회원 골프 예약/이용실적 조회 수정

완료 - 고객번호 묶음 처리 : 반영일자 잡아야 함
완료 - 법인pkg 잔여횟수 카운트
완료 - 풋터 카운트 합계 넣어주기
완료 - 엑셀 잔여횟수 넣어주기
엑셀 현재날짜 넣어주기

=========================================================
* 테블릿 

회원관리 이미지 pms 참고. base64 인코딩
테이블 필요

PMS
 비오토피아 - 주택수리접수현황 
 객실영업 - 객실수리접수현황
 파일형식 이미지형식인것만 base64 인코딩 해서 데이터 저장

MOBILE
 이미지 저장 할때 FTP -> BASE64 인코딩 해서 데이터 저장
 - 비오토피아 APP IMAGE SRC 변경
 - 객실정비  APP  

* PMS 이미지 업로드 파악 (uploadFiles1 => ImageIO(리사이즈, 확장자) => Encoder => param.put)
param : {memName=종부킴, imgOrgName=dog, mode=U, podoRoomBeneDivMngt=A006, guestZipCode=, joinDate=20230127, guestTelNo=, sexName=M, manageMemo=, guestAddr2=, guestAddr1=, marrYnName=N, memType=006, marrDate=, loginFailCnt=0, dmType=1, imgUpYn=Y, theAnnexRoomBeneDivMngt=A006, guestNo=30008340, imgPath=dog.jpeg, idx=01, resNoShown=, guestType=002, birthday=, officePosition=, dcTypeCode=, memEngName=, imgName=dog.jpeg, memGrade=, areaType=002, memNo=CP098400, hpNo=01066613076, useYn=Y, email=, nationCode=KOR, bizpNo=, smsSendYnName=Y, officeCorpNo=, userId=, userPasswd=, resNo=, remarks=}
loginVO : LoginVO [corpCode=01, empId=3076, empIp=0:0:0:0:0:0:0:1, empNo=3119, empName=김종부, passwordCode=1q2w3e^^, passwordPos=, useYn=Y, posLoginDate=, backLoginDate=, loginFlag=, passwordCheck=, authGroupCode=00001, perUpjangCode=null, loginLockYn=, authCode=, lastLoginDate=2023-03-16 14:34, lastLoginIp=192.168.31.1]
mode : U 
List<MultipartFile> uploadFiles1 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@3b583c]
MultipartFile uploadFile1 : org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@3b583c
BufferedImage Image(리사이즈) : BufferedImage@3784fe: type = 5 ColorModel: #pixelBits = 24 numComponents = 3 color space = java.awt.color.ICC_ColorSpace@1ce5e37 transparency = 1 has alpha = false isAlphaPre = false ByteInterleavedRaster: width = 180 height = 216 #numDataElements 3 dataOff[0] = 2
String extension : jpeg
ImageIO.write(Image, extension, baos);
StringBuilder sb : 없음
Encoder encoder : java.util.Base64$Encoder@d56b86
byte[] encodedBytes : [47, 57, 106, 47, 52, 65, 65, 81, 83, 107, 90, 74, 82, 103, 65, 66, 65, 103, 65, 65, 65, 81, 65, 66, 65, 65, 68, 47, 50, 119, 66, 68, 65, 65, 103, 71, 66, 103, 99, 71, 66, 81, 103, 72, 66, 119, 99, 74, 67, 81, 103, 75, 68, 66, 81, 78, 68, 65, 115, 76, 68, 66, 107, 83, 69, 119, 56, 85, 72, 82, 111, 102, 72, 104, 48, 97, 72, 66, 119, 103, 74, 67, 52, 110, 73, 67, 73, 115, 73, 120, 119, 99, 75, 68, 99, 112, 76, 68, 65, 120, 78, 68, 81, 48, 72, 121, 99, 53, 80, 84, 103, 121, 80, 67, 52, 122, 78, 68, 76, 47, 50, 119, 66, 68, 65, 81, 107, 74, 67, 81, 119, 76, 68, 66, 103, 78, 68, 82, 103, 121, 73, 82, 119, 104, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 73, 121, 77, 106, 76, 47, 119, 65, 65, 82, 67, 65, 68, 89, 65, 76, 81, 68, 65, 83, 73, 65, 65, 104, 69, 66, 65, 120, 69, 66, 47, 56, 81, 65, 72, 119, 65, 65, 65, 81, 85, 66, 65, 81, 69, 66, 65, 81, 69, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 69, 67, 65, 119, 81, 70, 66, 103, 99, 73, 67, 81, 111, 76, 47, 56, 81, 65, 116, 82, 65, 65, 65, 103, 69, 68, 65, 119, 73, 69, 65, 119, 85, 70, 66, 65, 81, 65, 65, 65, 70, 57, 65, 81, 73, 68, 65, 65, 81, 82, 66, 82, 73, 104, 77, 85, 69, 71, 69, 49, 70, 104, 66, 121, 74, 120, 70, 68, 75, 66, 107, 97, 69, 73, 73, 48, 75, 120, 119, 82, 86, 83, 48, 102, 65, 107, 77, 50, 74, 121, 103, 103, 107, 75, 70, 104, 99, 89, 71, 82, 111, 108, 74, 105, 99, 111, 75, 83, 111, 48, 78, 84, 89, 51, 79, 68, 107, 54, 81, 48, 82, 70, 82, 107, 100, 73, 83, 85, 112, 84, 86, 70, 86, 87, 86, 49, 104, 90, 87, 109, 78, 107, 90, 87, 90, 110, 97, 71, 108, 113, 99, 51, 82, 49, 100, 110, 100, 52, 101, 88, 113, 68, 104, 73, 87, 71, 104, 52, 105, 74, 105, 112, 75, 84, 108, 74, 87, 87, 108, 53, 105, 90, 109, 113, 75, 106, 112, 75, 87, 109, 112, 54, 105, 112, 113, 114, 75, 122, 116, 76, 87, 50, 116, 55, 105, 53, 117, 115, 76, 68, 120, 77, 88, 71, 120, 56, 106, 74, 121, 116, 76, 84, 49, 78, 88, 87, 49, 57, 106, 90, 50, 117, 72, 105, 52, 43, 84, 108, 53, 117, 102, 111, 54, 101, 114, 120, 56, 118, 80, 48, 57, 102, 98, 51, 43, 80, 110, 54, 47, 56, 81, 65, 72, 119, 69, 65, 65, 119, 69, 66, 65, 81, 69, 66, 65, 81, 69, 66, 65, 81, 65, 65, 65, 65, 65, 65, 65, 65, 69, 67, 65, 119, 81, 70, 66, 103, 99, 73, 67, 81, 111, 76, 47, 56, 81, 65, 116, 82, 69, 65, 65, 103, 69, 67, 66, 65, 81, 68, 66, 65, 99, 70, 66, 65, 81, 65, 65, 81, 74, 51, 65, 65, 69, 67, 65, 120, 69, 69, 66, 83, 69, 120, 66, 104, 74, 66, 85, 81, 100, 104, 99, 82, 77, 105, 77, 111, 69, 73, 70, 69, 75, 82, 111, 98, 72, 66, 67, 83, 77, 122, 85, 118, 65, 86, 89, 110, 76, 82, 67, 104, 89, 107, 78, 79, 69, 108, 56, 82, 99, 89, 71, 82, 111, 109, 74, 121, 103, 112, 75, 106, 85, 50, 78, 122, 103, 53, 79, 107, 78, 69, 82, 85, 90, 72, 83, 69, 108, 75, 85, 49, 82, 86, 86, 108, 100, 89, 87, 86, 112, 106, 90, 71, 86, 109, 90, 50, 104, 112, 97, 110, 78, 48, 100, 88, 90, 51, 101, 72, 108, 54, 103, 111, 79, 69, 104, 89, 97, 72, 105, 73, 109, 75, 107, 112, 79, 85, 108, 90, 97, 88, 109, 74, 109, 97, 111, 113, 79, 107, 112, 97, 97, 110, 113, 75, 109, 113, 115, 114, 79, 48, 116, 98, 97, 51, 117, 76, 109, 54, 119, 115, 80, 69, 120, 99, 98, 72, 121, 77, 110, 75, 48, 116, 80, 85, 49, 100, 98, 88, 50, 78, 110, 97, 52, 117, 80, 107, 53, 101, 98, 110, 54, 79, 110, 113, 56, 118, 80, 48, 57, 102, 98, 51, 43, 80, 110, 54, 47, 57, 111, 65, 68, 65, 77, 66, 65, 65, 73, 82, 65, 120, 69, 65, 80, 119, 68, 122, 56, 76, 103, 85, 47, 72, 83, 106, 116, 122, 81, 79, 111, 113, 68, 113, 72, 65, 85, 100, 113, 68, 57, 54, 103, 48, 65, 75, 77, 89, 111, 80, 78, 75, 111, 52, 111, 55, 85, 65, 73, 66, 85, 111, 81, 107, 106, 105, 110, 50, 99, 66, 110, 110, 67, 65, 57, 101, 108, 100, 98, 89, 43, 72, 108, 100, 70, 90, 47, 88, 112, 87, 86, 83, 114, 71, 110, 117, 88, 71, 68, 108, 115, 89, 57, 112, 112, 85, 106, 104, 88, 50, 110, 71, 82, 86, 54, 80, 119, 43, 53, 85, 72, 110, 80, 71, 82, 88, 85, 76, 97, 114, 69, 78, 113, 112, 119, 75, 103, 78, 119, 115, 99, 103, 72, 98, 78, 101, 102, 76, 71, 83, 98, 48, 79, 113, 79, 72, 48, 77, 118, 47, 104, 71, 110, 82, 110, 99, 90, 80, 98, 54, 86, 122, 43, 112, 97, 90, 79, 108, 48, 54, 104, 67, 86, 88, 97, 117, 102, 88, 73, 114, 49, 71, 74, 107, 101, 65, 72, 115, 82, 122, 86, 75, 53, 115, 73, 74, 84, 108, 48, 66, 53, 68, 102, 106, 86, 82, 120, 84, 84, 49, 73, 57, 108, 102, 81, 56, 55, 88, 82, 88, 56, 107, 79, 43, 101, 51, 83, 113, 99, 49, 113, 48, 74, 119, 119, 89, 77, 80, 56, 65, 57, 90, 114, 48, 112, 114, 83, 73, 112, 116, 67, 103, 68, 72, 83, 115, 121, 43, 48, 101, 79, 53, 79, 52, 100, 99, 47, 47, 65, 70, 118, 54, 86, 99, 77, 88, 100, 54, 104, 75, 104, 112, 111, 101, 102, 70, 71, 122, 121, 77, 69, 52, 112, 104, 66, 72, 85, 89, 114, 116, 76, 110, 119, 50, 114, 119, 116, 53, 89, 50, 115, 79, 81, 102, 56, 65, 80, 48, 114, 108, 98, 117, 49, 101, 50, 99, 112, 74, 57, 52, 102, 53, 47, 114, 88, 88, 84, 114, 82, 110, 115, 89, 121, 103, 52, 55, 108, 83, 106, 80, 80, 116, 85, 118, 108, 47, 74, 110, 103, 90, 74, 65, 122, 84, 65, 112, 72, 52, 49, 113, 81, 78, 80, 87, 109, 109, 110, 52, 120, 48, 112, 112, 111, 69, 78, 112, 119, 54, 48, 50, 108, 66, 111, 65, 100, 105, 105, 103, 72, 105, 105, 103, 108, 105, 72, 54, 85, 68, 105, 107, 80, 87, 108, 72, 87, 103, 89, 55, 118, 82, 84, 99, 48, 113, 56, 48, 68, 72, 100, 113, 71, 80, 70, 70, 74, 49, 120, 57, 97, 65, 79, 103, 56, 78, 50, 120, 108, 117, 86, 89, 112, 108, 66, 51, 114, 118, 55, 83, 77, 118, 74, 108, 82, 107, 76, 88, 77, 101, 72, 89, 66, 66, 112, 106, 84, 107, 89, 56, 120, 115, 103, 101, 103, 114, 113, 78, 77, 110, 81, 75, 99, 110, 79, 97, 56, 98, 70, 122, 53, 112, 50, 79, 43, 106, 71, 48, 76, 108, 117, 90, 69, 86, 87, 98, 106, 106, 114, 88, 75, 51, 50, 102, 116, 73, 86, 102, 88, 65, 114, 99, 49, 80, 85, 69, 103, 104, 90, 77, 103, 115, 99, 65, 52, 114, 71, 103, 47, 48, 105, 84, 122, 84, 110, 65, 53, 122, 88, 76, 72, 101, 53, 49, 81, 86, 108, 100, 109, 51, 65, 47, 56, 65, 111, 52, 72, 115, 75, 99, 48, 109, 82, 109, 113, 121, 80, 103, 101, 51, 83, 108, 97, 81, 103, 68, 109, 109, 122, 78, 82, 72, 66, 118, 109, 71, 101, 51, 87, 109, 104, 43, 101, 101, 49, 82, 104, 117, 67, 101, 110, 70, 78, 68, 70, 106, 117, 122, 109, 104, 70, 87, 76, 97, 52, 73, 120, 54, 49, 109, 97, 108, 52, 102, 83, 57, 72, 109, 113, 80, 109, 122, 86, 50, 77, 56, 49, 102, 106, 107, 120, 71, 101, 118, 83, 114, 112, 122, 99, 72, 100, 71, 86, 83, 70, 48, 101, 97, 51, 117, 108, 83, 50, 55, 72, 122, 73, 102, 107, 120, 103, 69, 110, 118, 87, 82, 74, 71, 86, 51, 77, 101, 77, 110, 65, 114, 48, 113, 89, 120, 122, 108, 107, 99, 66, 118, 113, 75, 53, 76, 87, 57, 75, 101, 51, 119, 51, 51, 111, 122, 107, 106, 50, 47, 122, 120, 88, 112, 85, 77, 84, 122, 117, 122, 79, 87, 114, 82, 99, 100, 84, 110, 71, 52, 70, 77, 78, 83, 79, 67, 68, 122, 85, 82, 78, 100, 112, 122, 104, 81, 66, 83, 100, 113, 77, 56, 85, 65, 83, 76, 48, 111, 112, 75, 75, 90, 78, 120, 77, 56, 48, 100, 97, 68, 122, 81, 75, 81, 120, 99, 85, 111, 111, 55, 85, 89, 111, 71, 76, 84, 107, 65, 51, 65, 72, 112, 81, 79, 66, 86, 114, 84, 98, 99, 88, 86, 47, 70, 69, 102, 117, 107, 56, 48, 109, 55, 75, 52, 48, 114, 115, 55, 81, 89, 116, 100, 75, 104, 105, 88, 106, 97, 111, 54, 101, 116, 79, 116, 76, 120, 107, 106, 76, 65, 106, 78, 82, 88, 120, 67, 119, 43, 87, 111, 52, 65, 119, 75, 121, 89, 87, 107, 122, 47, 70, 106, 72, 80, 80, 97, 118, 68, 107, 117, 90, 116, 110, 115, 85, 49, 97, 78, 106, 88, 110, 76, 88, 120, 100, 105, 119, 50, 100, 77, 43, 47, 112, 86, 117, 51, 84, 121, 107, 85, 100, 115, 89, 78, 85, 73, 74, 89, 107, 67, 81, 120, 77, 83, 79, 112, 76, 100, 84, 43, 70, 88, 52, 83, 101, 112, 80, 52, 52, 54, 49, 76, 86, 116, 65, 98, 117, 87, 108, 43, 55, 107, 110, 53, 99, 49, 69, 55, 72, 100, 103, 90, 73, 112, 100, 119, 120, 110, 65, 57, 79, 79, 57, 79, 71, 65, 80, 101, 111, 66, 97, 68, 108, 85, 116, 71, 88, 66, 71, 66, 54, 48, 119, 65, 107, 77, 84, 49, 122, 54, 86, 90, 65, 43, 88, 106, 66, 72, 99, 89, 113, 70, 101, 70, 74, 120, 54, 65, 85, 67, 117, 67, 118, 56, 50, 79, 119, 113, 49, 71, 120, 50, 110, 110, 107, 49, 82, 74, 67, 118, 103, 69, 56, 56, 107, 52, 54, 86, 80, 72, 73, 80, 84, 78, 65, 83, 82, 82, 100, 105, 108, 52, 43, 82, 120, 110, 105, 114, 69, 116, 117, 108, 57, 98, 43, 87, 52, 53, 80, 73, 112, 108, 120, 69, 114, 88, 97, 115, 112, 122, 107, 99, 49, 97, 82, 100, 117, 51, 72, 97, 110, 122, 79, 76, 117, 103, 108, 70, 83, 105, 101, 100, 54, 51, 98, 47, 65, 71, 101, 56, 100, 65, 77, 65, 99, 86, 107, 107, 86, 50, 72, 106, 83, 48, 67, 116, 70, 99, 114, 47, 65, 66, 99, 77, 80, 101, 117, 81, 55, 86, 55, 108, 67, 102, 78, 66, 77, 56, 113, 111, 114, 83, 97, 71, 100, 75, 79, 49, 75, 101, 75, 98, 109, 116, 105, 65, 122, 82, 82, 110, 54, 85, 85, 69, 107, 110, 81, 90, 112, 113, 110, 78, 68, 110, 106, 70, 78, 88, 112, 83, 71, 83, 52, 111, 74, 57, 113, 85, 100, 75, 81, 106, 105, 103, 89, 55, 80, 70, 98, 51, 104, 83, 77, 78, 102, 83, 117, 102, 52, 69, 52, 43, 116, 99, 47, 88, 85, 101, 69, 119, 70, 106, 117, 88, 47, 105, 54, 65, 49, 104, 105, 72, 97, 109, 122, 83, 107, 114, 122, 82, 111, 51, 106, 69, 115, 81, 101, 80, 101, 111, 76, 110, 75, 87, 115, 99, 74, 106, 82, 83, 51, 85, 106, 118, 85, 108, 54, 120, 68, 66, 115, 99, 107, 56, 89, 113, 101, 67, 77, 51, 76, 75, 122, 56, 113, 79, 77, 101, 57, 101, 85, 116, 69, 101, 111, 120, 117, 110, 50, 113, 82, 119, 106, 99, 106, 69, 106, 71, 82, 50, 80, 118, 87, 104, 116, 51, 100, 77, 102, 108, 83, 113, 78, 103, 65, 122, 120, 50, 72, 112, 85, 113, 106, 71, 77, 56, 102, 121, 70, 90, 121, 100, 50, 67, 73, 103, 114, 66, 115, 53, 52, 80, 66, 80, 112, 85, 121, 56, 47, 75, 82, 121, 75, 106, 121, 88, 99, 66, 104, 51, 55, 72, 116, 47, 107, 48, 112, 89, 113, 81, 77, 106, 51, 78, 83, 85, 84, 108, 56, 90, 65, 74, 80, 79, 101, 102, 56, 43, 57, 80, 88, 72, 108, 56, 56, 72, 106, 116, 86, 85, 80, 110, 110, 100, 119, 122, 89, 53, 57, 80, 112, 43, 100, 83, 55, 122, 117, 50, 52, 65, 120, 48, 47, 119, 65, 47, 108, 84, 74, 71, 84, 73, 99, 100,...
 param.put("imgPath", sb.toString()); : {emailYnName=N, officeName=, corpIndivCodeName=001, golfBeneDivMngt=008, memName=종부킴, lunarCodeName=1, bindUserId=, imgOrgName=dog, relation=005, vipYnName=N, mode=U, podoRoomBeneDivMngt=A006, guestZipCode=, joinDate=20230127, guestTelNo=, sexName=M, manageMemo=, guestAddr2=, guestAddr1=, marrYnName=N, memType=006, marrDate=, loginFailCnt=0, dmType=1, imgUpYn=Y, theAnnexRoomBeneDivMngt=A006, guestNo=30008340, imgPath=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, idx=01, resNoShown=, guestType=002, birthday=, officePosition=, dcTypeCode=, memEngName=, imgName=dog.jpeg, memGrade=, areaType=002, memNo=CP098400, hpNo=01066613076, useYn=Y, email=, nationCode=KOR, bizpNo=, smsSendYnName=Y, officeCorpNo=, userId=, userPasswd=, resNo=, remarks=}


* 모바일 이미지 업로드 파악
loginVO : LoginVO [corpCode=01, empId=3076, empIp=0:0:0:0:0:0:0:1, empNo=3119, empName=김종부, levelDiv= , passwordCode=1q2w3e^^, passwordPos=, useYn=Y, posLoginDate=, backLoginDate=, loginFlag=, passwordCheck=, authGroupCode=00001, perUpjangCode=2301, loginLockYn=, authCode=, lastLoginDate=, lastLoginIp=]
imagePath : HouseRepair/01/
param : {cleanMemo=, etcMemo=, upjangCode=2101, imgAdd=Y, equipMemo=, imgeUrl=, checkRoomNo=101, houseType=W, type=add, imgOrgName1=dog}
boolean SAVE_CHECK : true
result : {cleanMemo=, O_RESULT=1, upjangCode=2101, imgAdd=Y, imgeUrl=, loginVO=LoginVO [corpCode=01, empId=3076, empIp=0:0:0:0:0:0:0:1, empNo=3119, empName=김종부, levelDiv= , passwordCode=1q2w3e^^, passwordPos=, useYn=Y, posLoginDate=, backLoginDate=, loginFlag=, passwordCheck=, authGroupCode=00001, perUpjangCode=2301, loginLockYn=, authCode=, lastLoginDate=, lastLoginIp=], houseType=W, type=add, etcMemo=, equipMemo=, O_MSG=null, O_NO=2023032701, checkRoomNo=101, imgOrgName1=dog}
String imgAdd : Y
param.put("acceptNo", result.get("O_NO").toString());
folderName : HouseRepair/01   
Iterator<String> files : java.util.LinkedHashMap$LinkedKeyIterator@60260
String uploadFile = files.next(); : 1
String fileName = CommonUtil.makeRandomFilename(); : 1679885414293he
List<MultipartFile> uploadFiles1 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2bf633]
MultipartFile uploadFile1 = uploadFiles1.get(0); : org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2bf633
uploadFiles1 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@338683]
resultJSON : {O_RESULT=1, fileSize=80592, fileExtension=jpeg, savePath=HouseRepair/01/, fileOrgName=dog.jpeg, fileSaveName=1679885414293he.jpeg}



* 핵심
resultJSON = sysCommonService.ftpFileUpload(uploadFile1,param,folderName,fileName);
 ※ resultJSON = {O_RESULT=1, fileSize=80592, fileExtension=jpeg, savePath=HouseRepair/01/, fileOrgName=dog.jpeg, fileSaveName=1679643139273xg.jpeg}

result = tabletBitoMapper.BioReg_Img_Insert(param);
 ※ param = {O_RESULT=1, imgAdd=Y, progressMemo=, loginVO=LoginVO [corpCode=01, empId=3076, empIp=0:0:0:0:0:0:0:1, empNo=3119, empName=김종부, levelDiv= , passwordCode=1q2w3e^^, passwordPos=, useYn=Y, posLoginDate=, backLoginDate=, loginFlag=, passwordCheck=, authGroupCode=00001, perUpjangCode=2301, loginLockYn=, authCode=, lastLoginDate=, lastLoginIp=], insEmpNo2=3119, acceptNo=2023032401, hidImgUpYn=, insEmpNo1=3119, cnt=2, type=edit, acceptNo2=2023032401, acceptNo1=2023032401, orgFileName=1679643139273xg.jpeg, imgPath2=HouseRepair/01/1679640614931ma.jpeg, 1=, 2=, imgPath1=HouseRepair/01/1679640613629jg.jpeg, imgSeq1=1, O_MSG=null, imgSeq2=2, imgOrgName2=HouseRepair/01/1679640614931ma.jpeg, imgOrgName3=dog, newUploadFile=HouseRepair/01/1679643139273xg.jpeg, imgOrgName1=HouseRepair/01/1679640613629jg.jpeg}

* 현재 BASE64인코딩 새로만든 테이블 인서트
1. PMS(객실수리접수현황,주택수리요청접수), Tablet
 1) 이미지 넣을 때 BASE64 변환 후 테이블 INSERT

2. 테블릿
 1) url src 경로 가져오기(회원관리)


{cleanMemo=, O_RESULT=1, imgAdd=Y, upjangCode=2101, reqEmpName=김종부, reqEmpNo=3119, loginVO=LoginVO [corpCode=01, empId=3076, empIp=0:0:0:0:0:0:0:1, empNo=3119, empName=김종부, passwordCode=1q2w3e^^, passwordPos=, useYn=Y, posLoginDate=, backLoginDate=, loginFlag=, passwordCheck=, authGroupCode=00001, perUpjangCode=null, loginLockYn=, authCode=, lastLoginDate=2023-03-16 14:34, lastLoginIp=192.168.31.1], hidImgUpYn=, acceptNo=2023032701, cnt=, type=edit, etcMemo=, equipMemo=, O_MSG=null, O_NO=2023032701, imgEdit=Y, imgPath=/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCADYALQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDz8LgU/HSjtzQOoqDqHAUdqD96g0AKMYoPNKo4o7UAIBUoQkjin2cBnnCA9eldbY+HldFZ/XpWVSrGnuXGDlsY9ppUjhX2nGRV6Pw+5UHnPGRXULarENqpwKgNwscgHbNefLGSb0OqOH0Mv/hGnRncZPb6Vz+paZOl06hCVXaufXIr1GJkeAHsRzVK5sIJTl0B5DfjVRxTT1I9lfQ87XRX8kO+e3Sqc1q0JwwYMP8A9Zr0prSIptCgDHSsy+0eO5O4dc//AFv6VcMXd6hKhpoefFGzyME4phBHUYrtLnw2rwt5Y2sOQf8AP0rlbu1e2cpJ94f5/rXXTrRnsYyg47lSjPPtUvl/JngZJAzTApH41qQNPWmmn4x0ppoENpw602lBoAdiigHiigliH6UDikPWlHWgY7vRTc0q80DHdqGPFFJ1x9aAOg8N2xluVYplB3rv7SMvJlRkLXMeHYBBpjTkY8xsgegrqNMnQKcnOa8bFz5p2O+jG0LluZEVWbjjrXK32ftIVfXArc1PUEghZMgscA4rGg/0iTzTnA5zXLHe51QVldm3A/8Ao4HsKc0mRmqyPge3SlaQgDmmzNRHBvmGe3Wmh+ee1RhuCenFNDFjuzmhFWLa4Ix61mal4fS9HmqPmzV2M81fjkxGevSrpzcHdGVSF0ea3ulS27HzIfkxgEnvWRJGV3MeMnAr0qYxzlkcBvqK5LW9Ke3w33ozkj2/zxXpUMTzuzOWrRcdTnG4FMNSOCDzURNdpzhQBSdqM8UASL0opKKZNxM80daDzQKQxcUoo7UYoGLTkA3AHpQOBVrTbcXV/FEfuk80m7K40rs7QYtdKhiXjao6etOtLxkjLAjNRXxCw+Wo4AwKyYWkz/FjHPPavDkuZtnsU1aNjXnLXxdiw2dM+/pVu3TykUdsYNUIJYkCQxMSOpLdT+FX4SepP4461LVtAbuWl+7kn5c1E7HdgZIpdwxnA9OO9OGAPeoBaDlUtGXBGB60wAkMT1z6VZA+XjBHcYqFeFJx6AUCuCv82Owq1Gx2nnk1RJCvgE88k46VPHIPTNASRRdil4+RxnirEtul9b+W45PIplxErXaspzkc1aRdu3HanzOLuglFSied63b/AGe8dAMAcVkkV2HjS0CtFcr/ABcMPeuQ7V7lCfNBM8qorSaGdKO1KeKbmtiAzRRn6UUEknQZpqnNDnjFNXpSGS4oJ9qUdKQjigY7PFb3hSMNfSuf4E4+tc/XUeEwFjuX/i6A1hiHamzSkrzRo3jEsQePeoLnKWscJjRS3UjvUl6xDBsck8YqeCM3LKz8qOMe9eUtEeoxun2qRwjcjEjGR2PvWht3dMflSqNgAzx2HpUqjGM8fyFZyd2CIgrBs54PBPpUy8/KRyKjyXcBh37Ht/k0pYqQMj3NSUTl8ZAJPOef8+9PXHl88HjtVUPnndwzY59Pp+dS7zu24Ax0/wA/lTJGTIcd8k0yOQAjJz6VI7ZjOCAT3NU/mViSflzwcc0IC2zDhhyOlWcrs478ZqohMqEcquOo5zVdJ9imNmJKnv3pSQRGeIIY59Jy33lPFeeyhEchQTj1rt9dnJ0gYYjL/wBK4ORxk162C/hnn4j4xrNUe7mojKN3WkaUdua7bHOTZz3oquJSaKdiS5J1pF60Ofmoj60iiZadSKOadxUgRng4rpPCzMIrnunHfvXOHrzXSeFopJGnVRhSBziscR/DZrR+NG9bWrXL7yRt5q+VSNcDC4HpViCNYEVAuaZMoPH3TXjyZ6Cd2Vd7nk45454pxJyYyAT6etBCIuTyexIppKHgtuI5XoKk0QEkMG3DZkNz1pH5QEnvztpjyOGc52gjIOen+NQqzKQCxO7jBODjHX+f5GmkMtqQSMnbhfu+maWOQbTjoeR9MVRaUKAyfdzjAHbrkfmKlSUtIFJGe59uD/hQ0KxdX94AOCxHr0qvcw4AwGbvjpT9wwSBznsc4p+zdHnuehB5pITIoGkGMqD74PFZuquUmHOc9+1akamM8uzeo9Kz9WhMux0xgcepq46sSdmc74rvvs2hRZcZeX8+DXn8mou56103jouI7SJj8gBYA9zXGKvNe7gqaVJM87EO9Rlg3Lk1ctd0p5rPAwKv2D/Niuie2hibUNsnljNFSxt8gormuMrHvSxnmojcIBUQvEU9R+daWJNHNLuGKyX1NB0NRPqoA4P60cjGa7yKp5OK7HwJIsklzECeME15VLqTseDXp/wpime2vbmRTtkKhMj061ji4Wotsum7SR3eweZnAOPUVXuASwBwCeORWl5WMt1qheDYwb8uK8NnfB3ZRKKWPJGOSSagcruYONo4IGc1Osn3ge/pTJFUNuX5SOORz6/5NI3RVaVlOVRiQche6/56/hVbeJAyJnLcgg7fr/n6fgyR1aTbu2jPAB5OB/8ArpLf5fkEbE7uoOQwHof89PxrRLQZbVAUzFnB7k+3T/6/tTTIVcMvzZA5zkA46enpSRtGBKhRiN4TLZbJ6k+/5c0xjmXEW45wQJDtycHjtnp+uKQi8GbyzhVZl5IXjFSxMS/Yg8c1SjnV2yr4k/iBU5Pt7VcSRGO4gKecHrUsGS7Cj8nn9KivI827d8cn1q4drYHAPftTpYjLCVYYOOuaE9TJnkXjyYf2jDCMELH6dK5Fa6Xx1cIfEEtuFGYgoJ98Z/rXMhq+kwytSiedUd5Ml7VNaybJPSoAcijJU5FatX0IOjimBQYNFY8d0wQDmisPZhcotdOf4jURlc9zUsdszoXxxUO35sV1q3QQFmPenQxSXEojjUsx6Cry6ezW28D9K3PA+nfaNZJdM7RxkVnOqoxcuw7E+l+Abu6QSzqQp7A17NomkRaNpMFvGm3C84q/aWEcdqg2gfhVu5HKADgCvHrV5VVqWlZlfA2/SsrUVO07e9bW3Cc1k3o3A8cd68+R103qYO4DqxL9MHoKdNKkcRTBJxz7VBcyRRzrufgHkep7VRuHkuWIQEA8DvxzVRjc6TIl1Fmv9o+VAcDAH9a3HnAQCRxnaWZSM9Tx2689/U/hjXNl5U6AFd2S31qJrieBtpJKE85Xt1rdwvawXNyBo8KwQ4D/ADHBYL6D88D/AAq6I1kdmXdKTyc98jrkdvp/jWRo7HyZsHDOOnXGPoP849q24V2RKB93BG7PJ59s561jNWYXK6nbKSNrYUYyen0/H/PpchkZVBwd2ORVYSf6Qfm+bo3G3Pv/ACqQAr0GRtA9j6VDGXAwXaSQc9RjBq7EvAGP1rKhJ3AOMZ6jOa2I8RwFs/KBmptqZz0R4V43O/xlqOOAHAx/wEViLET0Fa2pE3+sXV0Qf3spbnr1qW3sgSOP0r6WM+SCXkeY9XczIrZj1Bq5HpxfHFbUGnqMcfpWpb2SjHy1nKsCRzyaKSudlFdmlsoUcD8qKz9sxOJ59bxhrTpzWXLEy3Bwp611VlYNt2kcH2q/BoCPJlgPyrZVlFsditotg93aouzjvXc+GvD4s7nzdmM0/Q9NitgBgflXYWaJwEArhrVm9EWkaCkiNFHWnOjeUSeuamhVExkZNST4aM4rm6C6lMgbeaxtRJKNjgVsSEbOvFZk0Xnvz90dq5Z7nVT7nIXFo7XG4g7ev4Vl6n4gstODwrMkbL/Eefy9a72S0XJ4HT0rwvxFBHD4imWZGkijl+YA4LDuAe3H1xmu3B01UlaRdWpaNzYstfS+vAxlZxuwWIx29K055orpVmDYUghsDv3rh9Lb/TzsBSLDNtzkIcZ/oK6nTplaycOrhtxGWGFf6Hv+FdWIpKL90mjNtamtDdLCf3ZA+THr7D/PtWjFfPJbBUUKE6hRyR7Vi7UEKSMTtzy2Pf8Az+tWb27t7K3LF1IFcThzbHRdLc04ZxIDu+XHQnPT6VdjlVwpLYYjAOOvvXEpr8EkiMsgA3dNwIrbsr8SNtU5QfdPTj/P+eKmpRlFaoUZJ7HRQPudRtxg/wCTWnfhxoN15f3zG20gdzWVauNwbBOec10UBV4NhHBFYR0kmRW2PEYbF/4lOc85rTt7Jh/DXbXvh6NL5zGgCHkDFSRaMo/h/SvVdZPU8+xzEFk5x8taUOnvgcV0kWmKv8P6VcSyRR0H5Vk6hRza6e2OlFdT9mXH3f0opKRLPKIZ4071dj1KFMZYV5+dTmPQkfjTDfXDfxGu/wCrt7i5j05PEUMWPmr0Lw7HI+nLcS5zJ8wB9O1eM+CfDl14i1ZBL5iwRkNIx5BHp+NfQMFqIoUjUAKoAAFcOJSh7sdyk77kZ6VGZSB1q20eKzrs7OlcaujVWY9m3JihYkwMjNQwSLIowe9TmVe3Qdqia1Ki+hWuoiDuGMV5H470SaS8E9ugIOSV6Z47e/Ar2OUl1IxWDrlijWUjlQ2FJ2kVrh6rpzujTlUlys8NS1/s3TZZZwRdTfJGM5wOh/HrWzb3EkMX2aWDbJGwCqq4IBHeurtfC51Am6u4EVFJRFeMnOR1AzjHOM/Wtn+wrOADbHGrnnO3HNdlXFRe+5dOnY5QQvLody4B3BCPnGc8fSuTuRLeaTdzvIxEJQFcnqTXq97pAeyeGNNqv0wP6V5vfafc/wClWMMYTcVV0Oc8cg+9PC1E2TWTtoc7pFq11qSxIMjOTmvS7SwMEKbV+YgYx6VW8MeF0sVDSEPLJ3I5FdxY6YJXLheM8HFRjK6nKy2JprkjqQaXZlvvDNdXa2Y8sZFJZacIyCf5dK10jAXpXCo3ZFSpcw7m3UOCRz0qDyRjpWnqCbGBHeqi8itk9DIhVOOlOC1LsoCcU7iIiCMUVMwweaKaZLPnCHRJXx8taVv4cZ2AK5Nd+mjpGowP0rS0zSg13EoHJYdq7J4p9AjC+rNvwRoI0bRlDKBJJ8x+nauqyMUxV2oFHal2mvPnJt3ZSBuRWRqg2x5FbDDisjWP+PV8ehpIqO5j2F0GuJI/TpV6eYIB3P8AKuHn1KW0uBJG2CRzXQ2OqLqFgsgYb/4h6VVSDtc0WkjbhkDpnJPsKq3NwjyeS+M55PtUENxIQAThFzkCpobMzOZ26uRnjoPSsVoapJPUezJ9l+YYAXORWHFq+n3Fy1uZx5qkg5GFPqAa2fEsQj0OcqcYjxkHAFeW21xazyz2zAbomG4H0IyK6KdJSi2wU7HpipmABBvzyMc1y+u6f9m1i2nVQBKpUg+oOateB7zfcT2yjdBguj7uByAR/n3rT8VKq2e4jcV/eDjuOnFSo+znYpSuJp9oSqswG9uABXVWdqI1AA7VyHhKeW+nEkvRPlA9K7tCqik466mFWWpIiBSKkHWo9w3ChnCmhGDKepHoKoBtvHqat6k485E657VXC9O+OoplLYcHHendRwPekRBwz9OpqTaAM9R1NAEJH1oqRyM5PfmirRDMEW4bqK0tJtwL0Nj7oJqNV4q/pw2zN9KGNvQ2QoIpxXikXoKcelQ0TchkOFrH1NgIHz0rWmPynmuf1iXy7ZgTyTS6mkTzPW38q8kTpg9Kj8O6z9nvPIcjy5Dtz6GqPiW7/wCJtMi4J4xj6Cqej6Je3bic5RN2QSK74wTp+8VJ6nqkfzDI6Vv2Tq0asMYI9K5fSp1MIWQguigbc5I4rZsb1UYxuQO4FcDjZ2NL3RN4kTzNAu4y3BibHtx3rwGN2je4khZlaUZO4liMA46/UV7lreoKunyAMBkEBhz+ntXjb6BNPqu23YxxyA8MM456e/Su3C2SaZnLSx33wvg3WRmZMbUEQAPHAGa2/E0RlkAycd+e1J4PsRp2nRQZBZF+YjuSck+1WPENzFb2M07nGB3Gfauao+apdGsXbUy/AsyMbpM/OspHQ+xH6YrufMABLc4rxrw5ql5Y6mLk27/ZS2yQBAWzu4ckAcYI9ePXmuyvPFNudGnmY+WGdolOcn64q6lN82hje51v2+JgrgnZ1zSXGoRrafaASUIDA+orlkvcaGYraGS5by2KrEpYscZ/maLbT9b1aKJZ0WwtY0AKH52fgcDHQVko9xtI3nuheX52dFXg+lW4lxk9weAaZY6fFYQbQdzE/O/qatkDJJBz0GaRJC45XA+UHketJyhG5xyMmn9W6cLkZ9abtOf97gk84oAaULHNFNkJ3YAAAGBlf/r0VaIZVA2irFm22Uj1Gai6Y4zxzTGnEDBz90ZyaBm+snyA05nwM1z9trls9uWMi4zjg9DTbnXUjaIHAUgksTxUu41E1ppgWxn864vxVqy28WwZLNnaB3NWbvVL26kZdNtXuCUJLAfKvTGT+dS2Ph7fcR3t+c3Gz/V9l6URVtWWtDiNO8JXN/P9tugfnOfm/lXV/wBkG3tNkS/h6GurSNAqjGMcYoCBeQvX1q5VGxXOFGlX0ErTKPmIPfqcVSkutRQ5ltpBgZbA5r0fyFbgnr09qb5KMvK5IyN2Bx/nNLm7jUjyu41N5bZpHZ1bkYcYx/nisqC/uhdHy7YkHG3YnOR/k17J/Zlo8pd4F3Y+8wqZII0TYkaqACcKMVpGqkthN3OM0S51SZ/sp0+WORBljKMAD1JPWtltCfUJQ2ogNGM4gVuM+p/Ot5EZR9c49zS/eBxnHfnPtWTld3HzMppptrFF5cMMZHpU4tLZyzm2iYngnYOQQKmGd2QD+HYelGPlDDt0zSuyRQozuwATzx6Um4/eUdeg96VkxlcZJ4J7+tDcKCx57YpANKb+Afq3rTVDAZAGe1SBi3ynt1pAcBmz/u0AKNv3TyAM1Hg5471JnCgKMg9aY5CvnOMDigQfdAA9KKgLgklhzRVoloYY923nBIximvapNH5brknvU/3sAnn0HSnHjox6cc9Kkoy/+Ea04DhHVGPzIrkbvfirQ0LTNuDbbyOm9y38zV3aowedwpcDI4G7OCcdKLsdxiIkUeEARSei8ZpWyQDjB6mlIzu9Dx0609ccFsg9cUhDVDBR1DDikOcNjOaeBtwTSjAIYDp+tMBuFBXBPp9aeDyQwHAH4Ypv3m55FSBQW5zigBgQc59fXtQOmec+3FLtB+Zf1p23nmgBvUHrnHP/ANamkHcMcAcCpRhQP0poycDvQA3adhweO9L/AAgCjnn0xSD9aQClhzk5PemFc4J9acQC2P1pWzkHsKBjSMggfe70m3JwT0pzYUlh3ppOM+tADWY7X7AdKikGY8HqaczbiB70pO9uO1AELbeARziihky1FUiWTlP3ago3HPSnBHHIBAI6Y70UU+VCuKqyFxwT3HFP8tuhQ9OaKKOUdwCsSSQ3p0oEb55Vj2ziiilYLi7GJAKn8qBG3ZD+VFFPlC4qq4U/Kfyp3lyEDKt6dKKKLBcFQqPutke1ARiCSpx9KKKOULjSjlfunOfSjY4Iwp/KiijlQXHYIGNp/Km7G6hD+VFFFguLtbB+U5+lN2sw+6fyoopWC4hRiB8p/KoiGBJ2nH0ooosO40RsULbT+VEaMEyVOfpRRT5QuO8p25CN+VFFFUoom5//2Q==, imgOrgName1=dog}



							 // base64업로드
							 BufferedImage Image =  Resize(uploadFile1.getInputStream(), 180, 216);
							 ByteArrayOutputStream baos = new ByteArrayOutputStream();
							 String extension = FilenameUtils.getExtension(uploadFile1.getOriginalFilename()); // 확장자
							 ImageIO.write(Image, extension, baos);
							
							 StringBuilder sb = new StringBuilder();  // 이미지를 문자열로
							 Encoder encoder = Base64.getEncoder();
							 byte[] encodedBytes = encoder.encode(baos.toByteArray());
											sb.append(new String(encodedBytes));	
							 
							 param.put("imgPath", sb.toString());
							 
							 param.put("newUploadFile", resultJSON.get("savePath").toString() + resultJSON.get("fileSaveName").toString());
							 param.put("orgFileName", resultJSON.get("fileSaveName").toString());
							 result = btmMngtMapper.HouseRepairRequestReq_Img_Insert(param);

 {cleanMemo=, O_RESULT=1, imgSeq=1, imgAdd=, upjangCode=2101, reqEmpName=김종부, reqEmpNo=3119, 
 loginVO=LoginVO [corpCode=01, empId=3076, empIp=0:0:0:0:0:0:0:1, empNo=3119, empName=김종부, p
 asswordCode=1q2w3e^^, passwordPos=, useYn=Y, posLoginDate=, backLoginDate=, loginFlag=, passwordCheck=,
  authGroupCode=00001, perUpjangCode=null, loginLockYn=, authCode=, 
  lastLoginDate=2023-03-16 14:34, lastLoginIp=192.168.31.1], hidImgUpYn=, acceptNo=2023032701, 
  insEmpNo1=3119, cnt=1, type=edit, acceptNo1=2023032701, orgFileName=cat.jpg, etcMemo=,
  imgPath1=HouseRepair/01/dog.jpeg, equipMemo=, imgSeq1=1, O_MSG=null, O_NO=2023032701, imgEdit=Y,\
   newUploadFile=HouseRepair/01/cat.jpg, imgOrgName1=cat}              



1. 객실수리접수현황 
완료 - BASE64 인코딩 테이블 인서트, 업데이트, 삭제 

2. 주택수리요청접수
완료 - BASE64 인코딩 테이블 인서트, 업데이트, 삭제

3. 테블릿
BASE64 인코딩 테이블 인서트, 업데이트, 삭제
url src 경로 가져오기(회원관리)

완료 - 시설정비 요청 RoomReg.do
완료 - 분실물 접수 등록 RoomLostFoundReg.do
시설정비 현황 사진 셀렉트
 1) 상세보기 : RoomRegRetrieveInfo.do
 2) 수정 : RoomRegRetrieveModify.do


* PMS
PKG_HouseRepairRequestReq.SP_IMG_INSERT2 추가
PKG_HouseRepairRequestReq.SP_IMG_UPDATE2 추가
PKG_HouseRepairRequestReq.SP_IMG_DELETE 수정


* 테블릿
PKG_ROOMREG.SP_IMG_INSERT2 추가
PKG_ROOMLOSTFOUNDREG.SP_IMG_INSERT2 추가
PKG_TABLETBITOREPAIR.SP_IMG_INSERT2 추가
PKG_TABLETBITOREPAIR.SP_IMG_DELETE 수정
PKG_TABLETBITOREPAIR.SP_IMG_SELECT 수정


data:image/jpeg;base64,+item.picture

완료 - 이용실적 조회 병합처리 테스트

======================================================

* 온천락카판매등록
락카 테이블: id="lockerTable"
온천락카입장등록: insertForm
동반자 내역: gr_Partner
아래 왼쪽 그리드: gr_RentItemList
아래 오른쪽 폼 그 아래 그리드: gr_record
현재 주석처리: gr_PartnerSubList

- 1명
현재 하나의 락커 선택 => 온천락카입장등록 입력 => 저장
- 동반객
해당 락커 선택 => 복사 => 온천락카입장등록 입력 => 저장

- 변경
해당/동반 락커 클릭 => 선택 => 로우 생성

* 지금 작업 집중
완료 - 배정된 건 온클릭 안되게 함, 더블클릭하면 타게 함
선택시 로우 생성, 해제시 로우 삭제

* 궁금사항
selrow1 왜 전역변수??
keyObj[keyNo];
f_isValidate 함수??


		if($(this).hasClass("click")){
		    $(this).removeClass("click");
		} else{
		    $(this).addClass("click");
		}

========================================================

적용 : 체크된 ROW의 입력된 폼 임시 적용

일괄적용 : 모든 ROW의 입력된 폼 임시 적용

저장[F7] : 모든 그리드 데이터 저장

복사: 락카선택하면 락카번호 인풋 

테이블 : GFH02M: 온천 입장(동반객) 관리(pk: 업장코드, 영업일자, 키주소, 락카번호, 성별)

  //그리드 값 넣기
   if(grid.getRowCount() > 0){
  		 if($("#gr_Partner").getRowData(0).keyAddress == null) {
	   		 grid.setValue(rowId,'keyAddress', keyAddress);
	 	 }else{
	 	 	 grid.setValue(rowId,'keyAddress', $("#gr_Partner").getRowData(0).keyAddress);
	 	 }
 	}

락카번호 keyNo
이용자 guestName
고객번호 guestNo
멤버사 relativeType
고객구분 memType
주택번호 roomNo
입장객구분 entDiv
성별 sex
지불락카 payLockNo
온천요금 menuCode
입장금약 saleAmt
헬스장 gymYn
수영장 spaYn
비고 remarks
멤버사 relativeTypeCode
고객구분 memTypeCode


셀렉트 쿼리 memTypeCode, relativeTypeCode 추가해줘야 함 

* 수정내용
PKG_SpaLockerSalesRegistration.SP_POP_COMPANION_SELECT 셀렉트 컬럼만 추가
PKG_SpaLockerSalesRegistration.SP_DELETE2 추가

* 질문내용
삭제시 입장내역 GFH03M 테이블에 SEQ_NO 무시하고 삭제??
그리드 순서 정렬순서?? ENTER_TIME: 'HH24:MI' => 'HH24:MI:SS'  / varchar(5바이트)

* 해야할 일
완료 - 삭제 기능 구현
완료 - 적용, 일괄적용 기능 구현
완료 - 키어드레스 넣어주기
완료 - 지불락카
완료 - 키 생성 프로시저 삭제
완료 - 신규 시 키주소 생성 인서트
완료 - 그리드 바인드 폼값 다 확인 가능하게 
완료 - 등록시/삭제시 해당 그리드 유지 
완료 - 더블클릭 해당 번호에 그리드 선택
완료 - 복사 후 락카 클릭해서 해당 락카번호 등록가능하게
검토- 초기화 검사(신규등록시)

- 아래 댓글 표시
완료 - 지불락카 필수값 제거
완료 - 삭제2 생성(테이블 GFH03M 추가/ PAY_KEYNO(지불락카) 주석처리)
완료 - 지불락카 바인드 
완료 - 락카번호 disabled 처리
완료 - 초기화 디폴트 기존대로(기타이용객/헬스장N/수영장N )
완료 - 유효성 검사 for문
적용, 일괄적용 유효성 검사 필수값

=======================================================================================

* 고정락카 등록
- 관리화면 추가
- 내장객접수등록 고정락카 jsp: Locker, LockerFixPop

====================================
다음주 목요일까지

완료 - 칼럼 히스토리 히든처리(고객번호, 입장객구분)
완료 - 주택번호 영어 숫자만 입력


락카타입(GB105): 남자(001), 여자(002), 가상(003)
락카상태(GB106): 사용가능(001), 고장(수리중)(002), 불량(미사용)(003)

 * 수정내용
1) 메인화면 락카 색상표시
PKG_SpaLockerSalesRegistration.SP_SELECT2 추가
PKG_SpaLockerSalesRegistration.SP_INSERT2 추가


2) 락카 일괄 저장
- PKG_SpaLockerSalesRegistration.SP_POP_COMPANION_SELECT 셀렉트 컬럼만 추가
- PKG_SpaLockerSalesRegistration.SP_DELETE2 추가

3) 고정락카
- GFH01D 고정락카 관리 테이블 생성 
- PKG_SPALOCKERFIXPOP 패키지 생성
- PKG_SpaLockerSalesRegistration.SP_COMPANION_SELECT 수정 

4) 고장락카
- GFH01B 고정락카 관리 테이블 생성 
- PKG_SPALOCKERFIXPOP 패키지 생성


* 질문내용
- 등록된 락카도 이름팁 나오게??
- 고정락카 체크박스 등록 종료일자는 하루만 추가
- 고장락카 상태 내장객 락카 수정, 고정락카 수정 가능하게 함

* 고장락카 등록
- 버튼 고장처리(고장처리 상태인 경우 고장해제)
- 공통코드 : RB008 정상(001), 고장(002), 수리중(003) - 고장락카
            GF009 사용가능(001), 사용중(002), 고장(수리중)(003) - 락카마스터

- 고장처리 시 
 1. 히스토리 생성(시작일자/요청자/비고 인서트)
 2. 락카정보등록 페이지 고장으로 업데이트 
 3. 화면에 고장락카 표시(선택 못하게 예외처리)

- 고장해제 시 
 1.히스토리 업데이트(종료일자/요청자/비고 업데이트)
 2. 락카정보등록 페이지 사용가능으로 업데이트 

* 고장락카 
완료 - 셀렉트
- 인서트: 현재일자 이후로 등록 안되게 입력
 ※ 사용중 락카 인서트X, 락카 마스터 고장 상태 처리
- delete업데이트
- 메인 셀렉트 고장락카 


- 메인 인서트 유효성 검사
- 고정락카 인서트 고장 유효성 검사



,GET_EMP_NAME(A.CORP_CODE, A.INS_EMP_NO) INS_EMP_NAME
 ,GET_EMP_NAME(A.CORP_CODE, A.UPD_EMP_NO) UPD_EMP_NAME

완료 - 신규버튼 초기화 하기 
완료 - 고장등록 시 사용중인 락카 등록안되게 
완료 - 고장등록 시 고장상태 락카 등록 안되게
완료 - 수리완료 시 수리완료 상태인 경우 안되게 하기
완료 - 락카 등록 시 고장상태 등록안되게
완료 - 고정락카 등록시 고장상태 등록
완료 - 셀렉트 그리드 고장상태 표출 
완료 - 삭제후 바인드 색 유지
완료 -고장상태 선택안되게

그리드 정렬
히든처리 


완료 - 1. 패키지 지우기
완료 - 2. 카운트 쿼리
완료 - 3. 버튼색상
완료 - 4. 복사기능 selCompanion 처리
완료 - 5. 히든처리
완료 - 고장락카 동일기간 내 등록안되게 해야함
완료 - 고정, 고장락카 안내문구 표시

==========================================================

내부프로젝트
 메인 메뉴클릭(메뉴이름, 설명, 가격) => 상세 메뉴화면 옵션 체크 담기 => 메인 메뉴 주문내역에 담김(메뉴이름, 옵션, 수량, 가격)

* 테이블
1. 메뉴옵션조회
 1) MENU_MASTER(품목코드): PK - CORP_CODE(법인코드), MENU_CODE(품목코드)
 - 메뉴명, 이미지파일, 메뉴설명
  
 2) UPJANG_MENU(영업장_메뉴_코드): PK - CORP_CODE(법인코드), MENU_CODE(품목코드)
 - 메뉴명
 
 3) UPJANG_PACKAGE_MENU(패키지 메뉴 등록)
 4) UPJANG_MENU_PRICE(업장별 시즌 금액 정보)
 
 5) MENU_OPTION (옵션 상품 그룹관리): PK - CORP_CODE(법인코드), UPJANG_CODE(영업장코드), MENU_CODE(메뉴코드), GROUP_CDE(옵션 그룹 코드)
 - 옵션 그룹

 6) MENU_OPTION_DETAIL(옵션 상품 그룹별 메뉴 관리): PK - CORP_CODE(법인코드), UPJANG_CODE(영업장코드), MENU_CODE(메뉴코드), GROUP_CDE(옵션 그룹 코드), OPTION_MENU_CODE(옵션 메뉴 코드)
  - 각 옵션 판매금액
  - 최대수량

 7) OPTION_MASTER(옵션 마스터): PK - CORP_CODE(법인코드), GROUP_CODE(옵션그룹코드)
  - 옵션 그룹
 
 8) OPTION_DETAIL(옵션 디테일): PK - CORP_CODE(법인코드), GROUP_CODE(옵션그룹코드), OPTION_CODE(옵션코드), OPTION_NAME(옵션명)
 - 옵션명


1. 상세메뉴 셀렉트
1) 메뉴 
(1) 파라미터: 법인코드, 업장번호, 메뉴코드
(2) 메뉴: UPJANG_MENU(메뉴명), MENU_MASTER(메뉴) UPJANG_MENU_PRICE(가격) 이너조인, 
- MENU_OPTION(메뉴, 옵션 연결) 
(3) 옵션: OPTION_MASTER(옵션그룹명), OPTION_DETAIL(옵션세부명),  

2. 주문 인서트
태블릿, 모바일 - 주문
모바일 - 카트 주문

============================================================================

1. 태블릿 데이터 화면 뿌려주기 
2. 모바일 데이터 화면 뿌려주기
3. 태블릿 데이터 넘기기
4. 모바일 데이터 넘기기
5. 태블릿 주문 인서트
6. 모바일 주문 인서트

main_content, mainList


let menuDtlData = [{"menuGroupCode":"0002", "categoryCode":"1", "menuCode":"0002", "menuName":"치킨", menuInfo:"바삭바삭한 치킨", "imagePath":"https://pelicana.co.kr/resources/images/menu/original_menu01_200529.png", "salePrice":"18000",
	                  "optionGroups":[{"optionGroupName":"옵션1", "options":[{"groupCode":"OP001", "groupName":"옵션1", "optionCode":"OD001", "optionName":"케찹"},{"groupCode":"OP001", "groupName":"옵션1", "optionCode":"OD002", "optionName":"머스터드"}] },
				                            {"optionGroupName":"옵션2", "options":[{"groupCode":"OP002", "groupName":"옵션2", "optionCode":"OC001", "optionName":'뼈'},{"groupCode":"OP002", "groupName":"옵션2", "optionCode":"OC002", "optionName":"순살"}]  }]
                   }]




let optionData = [{ "menuCode":"0002", "menuName":"치킨", "orderNumber":"1", "totalPrice":"18000", "optionGroups":[{"groupCode":"OP001", "groupName":"옵션1", "optionCode":"OD001", "optionName":"케찹"},{"groupCode":"OP002", "groupName":"옵션2", "optionCode":"OC001", "optionName":'뼈'}] }];


let orderList = [{"menuName":"스페셜 메뉴1 ","optionList":[{"optionKey":"option1","optionName":"옵션1"},{"optionKey":"option2","optionName":"옵션2"}],"price":31000,"amount":1},
                {"menuName":"스페셜 메뉴2","optionList":[{"optionKey":"option1","optionName":"옵션1"},{"optionKey":"option2","optionName":"옵션2"}],"price":32000,"amount":2},
                {"menuName":"스페셜 메뉴3","optionList":[{"optionKey":"option1","optionName":"옵션1"},{"optionKey":"option2","optionName":"옵션2"}],"price":33000,"amount":3},
                {"menuName":"스페셜 메뉴4","optionList":[{"optionKey":"option1","optionName":"옵션1"},{"optionKey":"option2","optionName":"옵션2"}],"price":34000,"amount":4},
                {"menuName":"스페셜 메뉴5","optionList":[{"optionKey":"option1","optionName":"옵션1"},{"optionKey":"option2","optionName":"옵션2"}],"price":35000,"amount":5},
                {"menuName":"스페셜 메뉴6","optionList":[],"price":36000,"amount":6}];




[{
			"menuCode":"0002",
			"menuName":"치킨",
			"orderNumber":"1",
			"totalPrice":"18000",
			"optionGroups":[
			{
			"groupCode":"OP001",
			"groupName":"옵션1",
			"optionCode":"OD001",
			"optionName":"케찹"
			},
			{
			"groupCode":"OP002",
			"groupName":"옵션2",
			"optionCode":"OC001",
			"optionName":'뼈'
			}]
}];


{"menuCode":"0002",
			"menuName":"치킨",
			"orderNumber":"1",
			"totalPrice":"18000",
			"optionGroups":[
			{
			"groupCode":"OP001",
			"groupName":"옵션1",
			"optionCode":"OD001",
			"optionName":"케찹"
			},
			{
			"groupCode":"OP002",
			"groupName":"옵션2",
			"optionCode":"OC001",
			"optionName":'뼈'
			}
			]
			}                


      menuData.optionGroups[0].options   


GFH01D 고정락카 관리 테이블 생성 
GFH01B 고정락카 관리 테이블 생성 
PKG_SPALOCKERFIXPOP 패키지 생성
PKG_SPALOCKERBDWPOP 패키지 생성
PKG_SpaLockerSalesRegistration.SP_COMPANION_SELECT2 추가 
PKG_SpaLockerSalesRegistration.SP_SELECT2 추가
PKG_SpaLockerSalesRegistration.SP_INSERT2 추가
PKG_SpaLockerSalesRegistration.SP_DELETE2 추가
PKG_SpaLockerSalesRegistration.SP_UPDATE 수정



arr = [] ;
let test1 = {"test" : "test"}
arr.push({...test1})


============================================================

1. 테블릿(객실정비 시설정비 현황, 비토 시설정비)
 > 시설접수등록, 비토의 시설정비도
 - 관리자 확인, 완료인경우 수정만 가능하게 
  로그인 계정이 Manager ( 0 ) 권한일경우
  각종비고사항 Update 가능하도록, 삭제는 x
2. PMS
 > 객실수리접수현황, 주택수리요청접수
  로그인 계정이 Manager ( 0 ) 권한일경우
  각종비고사항 Update 가능하도록, 삭제는 x


===============================================================

주문 테이블 파악

테이블 주문(TABLE_ORDER)
테이블주문 상세(TABLE_ORDER_MENU)

스크롤 화면 화살표 표출 

태블릿
- 메뉴 설명 왼쪽정렬
- 주문 api 만들기

모바일
- 메뉴 설명 줄임말 없애기
- 더보기 버튼 누루면 펼치기, 접기
- 주문 api 만들기

다음주 금요일까지
- 아이피 dev  real 
- 코드 정리 안된거 정리해서

============================================================

* 핀크스 
1. 테블릿
 완료 - 객실정비 시설정비 현황
 완료 - 비토 시설정비 현황

2. PMS
 완료 - 객실수리접수현황
 완료 - 주택수리요청접수
 
 * 수정내용
1) 객실수리접수현황, 주택수리요청접수
PKG_HouseRepairRequestReq.SP_UPDATE 
PKG_HouseRepairRequestReq.SP_DELETE

모바일
PKG_TABLETBITOREPAIR.SP_DELETE
PKG_TABLETBITOREPAIR.SP_UPDATE



* 내부프로젝트
- 인서트 서비스단 API 만들기
- 태블릿 메인화면 뿌려주기 확인
- 태블릿 주문 처리
- 모바일 메인화면 담기
- 모바일 장바구니 담기
- 옵션 여러개 나올 경우 스크롤 화면 화살표 표출
- API 정리

==================================================

* 고장/고정 락카 색상 구분 -- 비고 - 세모 / 고장 - 회색 / 고정 - 연한 빨강색
완료 - 1. 고정락카 - 빨간색 변경
완료 - 2. 고장락카 - 회색 변경
완료 - 3. 고정락카 - 메모표시 삭제 
4. 메모락카 - 메모표시 추가

색상정보
회색 - #bdbdbd
핑크색 - #ffa7a7

 * 수정내용
1) 온천락카판매등록
PKG_SpaLockerSalesRegistration.SP_SELECT2 수정
PKG_SpaLockerSalesRegistration.SP_LOCKER_REMARK_UPDATE 추가

=========================================================

내부프로젝트
최종 마무리 점검 목요일 오전
- 하드코딩 없이 테스트
- 이슈 생기면 바로 알림

맡은 업무
완료 - 옵션 나타나게
완료 - 인서트 empNO 추가
- 모바일 인서트 추가
- left bar 스크롤 대분류 클릭
- 스크롤 카테고리명 변경


완료 - menuStat(주문상태) : 001 db에서 하드코딩
taxYn : UPJANG_MENU 테이블 TAX_YN

완료 - dcAmt : 하드코딩 0으로 처리
완료 - multiUpjangCode 메인에서 하드코딩
완료 -orderPosNo : 메인에서 하드코딩


* 메뉴(메뉴그룹코드 - 카테고리코드 -  메뉴)
- 업장코드: 0000
메뉴그룹코드: 해산물(0001) - 카테고리코드: 해산물(1), 회(2) / 음료,주류(0002) - 음료(1), 주류(2)

- 업장코드:1111
메뉴그룹코드: 치킨(0001) - 카테고리코드: 치킨(1) /사이드(0002) - 사이드(1) /음료,주류(0003) - 음료(1), 주류(2)/ 과일안주(0004) - 과일안주(1)

-업장코드 2222
메뉴그룹코드: 안주(0001) - 카테고리코드: 탕(1), 마른안주(2) / 음료주류(0002) - 음료(1), 주류(2)


================================================================================================

PMS 내부프로젝트 
* 메뉴 등록
- 테이블 : MENU_MASTER
- PK : CORP_CODE
      ,MENU_CODE
- NOT NULL : CORP_CODE
            ,MENU_CODE
            ,MENU_NAME
            ,TRUST_YN (기본값 'N')
            ,USE_YN (기본값 'Y')
            ,INS_DATE (기본값 'SYSDATE')
- INSERT COLUMN :  CORP_CODE
                  ,MENU_CODE
                  ,MENU_NAME
                  --MENU_L_CLASS 대분류  ???
                  --MENU_M_CLASS 중분류  ???  
                  --MENU_S_CLASS 소분류  ???
                  ,TRUST_YN 수탁여부 (기본값 'N')
                  --,BARCODE
                  ,USE_YN (기본값 'Y')
                  --,PACKAGE_YN 복합여부 (기본값 'N') 
                  --,MENU_GUBUN  ???
                  ,REMARK
                  ,IMAGE_PATH
                  ,MENU_INFO
                  ,INS_EMP_NO
                  ,INS_DATE (기본값 'SYSDATE')
                  ,INS_IP


* 영업장 메뉴 관리
- 1) 테이블1 : UPJANG_MENU (업장코드, 메뉴코드 존재)
- PK : CORP_CODE
      ,UPJANG_CODE
      ,MENU_CODE
-NOT NULL :  CORP_CODE
            ,UPJANG_CODE
            ,MENU_CODE
            ,USE_YN (기본값 'Y')
            ,OPEN_YN 가격오픈여부 (기본값 'N')
            ,DISPLAY_STTIME 화면표시 시작시간('0000')
            ,DISPLAY_EDTIME 화면표시 종료시간('2359')
            ,TAX_YN (기본값 'Y')
            ,DC_YN (기본값 'Y')
            ,BASE_PERSON 기준인원 (기본값 1)
            ,FORECAST_YN 포케스트 사용여부 (기본값 'N') ???
            ,RATE_GUBUN_YN 월력별요금설정여부 (기본값 'N')
            ,KITCHEN_PRT_YN 주방출력여부 (기본값 'N')
            ,OPTION_YN 옵션여부 (기본값 'N')
            ,NOTE_ISSUING_YN 발권여부 (기본값 'N')
            ,INS_DATE
- INSERT COLUMN :  CORP_CODE   
                  ,UPJANG_CODE
                  ,MENU_CODE 
                  ,USE_YN
                  ,OPEN_YN
                  ,MENU_NAME ?? 메뉴 마스터에도 존재
                  --,MENU_ABBR_NAME 메뉴 단축명??
                  ,DISPLAY_STTIME
                  ,DISPLAY_EDTIME
                  ,TAX_YN
                  ,DC_YN
                  --,ADULT_ID 대소인 구분
                  ,BASE_PERSON 기준인원
                  --,SEX_ID 성별구분
                  --,TRUST_TYPE_CODE 위탁,수탁 
                  ,FORECAST_YN 포케스트 사용여부 ??
                  --,MENU_TYPE 메뉴타입
                  ,RATE_GUBUN_YN 월력별요금설정여부
                  ,KITCHEN_PRT_YN 주방출력여부
                  --,KITCHEN_PRT_IP 주방프린터 IP
                  ,OPTION_YN
                  ,NOTE_ISSUING_YN 발권여부
                  --,AUTO_LOCKER_YN 자동락카 불출여부
                  --,TICKET_PRINT_TYPE 발권유형(띠지,영수증)(BS064). 티켓 출력유형
                  ,INS_EMP_NO
                  ,INS_DATE
                  ,INS_IP

- 2) 테이블2 : UPJANG_MENU_PRICE
- PK:  CORP_CODE
      ,UPJANG_CODE
      ,MENU_CODE
      ,SEASON_CODE 시즌구분
      ,DAY_TYPE_CODE 주중주말
- NOT NULL : CORP_CODE
            ,UPJANG_CODE
            ,MENU_CODE
            ,SEASON_CODE 시즌구분 (기본값 000)
            ,DAY_TYPE_CODE 주중주말 (기본값 000)
            ,SALE_PRICE (기본값 0)
            ,INS_DATE (기본값 SYSDATE)
- INSERT COLUMN :  CORP_CODE
                  ,UPJANG_CODE
                  ,MENU_CODE
                  ,SEASON_CODE 시즌구분 (기본값 000)
                  ,DAY_TYPE_CODE 주중주말 (기본값 000)
                  ,SALE_PRICE (기본값 0)
                  ,INS_EMP_NO
                  ,INS_DATE (기본값 SYSDATE)
                  ,INS_IP


* 모바일 메뉴 관리
- 테이블 : MOBILE_MENU(업장코드, 메뉴그룹코드, 카테고리 코드, 메뉴코드 존재)
- PK :   CORP_CODE, 
        ,UPJANG_CODE
        ,MENU_GROUP_CODE 
        ,CATEGORY_CODE
        ,MENU_CODE
- NOT NULL : CORP_CODE
            ,UPJANG_CODE
            ,MENU_GROUP_CODE 
            ,CATEGORY_CODE
            ,MENU_CODE
            ,USE_YN (기본값 'Y')
            ,SOLD_YN (기본값 'N')
            ,SEQ (기본값 '1')
            ,INS_DATE
- INSERT COLUMN :  CORP_CODE
                  ,UPJANG_CODE
                  ,MENU_GROUP_CODE 
                  ,CATEGORY_CODE
                  ,MENU_CODE
                  ,USE_YN
                  ,SOLD_YN 품절여부
                  ,SEQ 정렬순서
                  ,INS_EMP_NO
                  ,INS_DATE
                  ,INS_IP



중복 인서트, 업데이트 검사


============================================================

완료 - 메뉴목록 조회
완료 - 레이아웃 
완료 - 바인드
완료 - 메뉴 등록
완료 - 이미지 불러오기
완료 - 이미지 삭제
완료 - 이미지 다운로드
완료 -영업장 목록 가져오기
완료 - 검색
완료 - 상세내역 수정
완료 - 영업장 메뉴 저장
완료 - 등록된 영업장 목록 바인드
완료 -공통코드 입력
-  예/아니오
- POA03 대분류
- POA04 중분류
- POA05 소분류

예외처리
유효성 검사(이미등록된 영업장, 체크박스 선택 유효성 검사)

* 공통코드 필요
메뉴등록 페이지 - 품목대분류, 품목중분류, 품목소분류, 메뉴구분(보류)


data:image/png;base64,


시즌구분, 주중주말, 단가금액, 공급가, 부가세


================================================================

영업장 메뉴관리

영업장 리스트 : 동호시 호출
메뉴리스트 : UPJANG_MENU 테이블
상세내역 : 메뉴리스트 바인드(UPJANG_MENU)
시즌 구분 : 메뉴리스트 바인드(UPJANG_MENU_PRICE) 그리드 세이브


BSB02M(UPJANG_MENU) A, BSG01M(UPJANG_INFO) G01, POA02S(MENU_MASTER)   BSB02D(UPJANG_MENU_PRICE)

완료 - 바인드 상세내역
완료 - 상세내역 저장
완료 - 단가 시즌, 비시즌 셀럭트
완료 - 저장
완료 - 검색조건
유효성 검사

=================================

* 뮤지엄김치간 
VPN
https://ssl2.pulmuone.com/
ID : userve05  / PW : sslvpn!@34

FTP
홈페이지 서버1 : 211.233.54.38
홈페이지 서버2 : 211.233.54.39
ID : root  / PW : Rnfwoa!!038 , Rnfwoa!!039  ( 뒤 3자리 숫자는 각 서버별 IP 뒷자리 )

DB(REAL) - mysql
192.1.5.21:3306
database : kimchikan
ID : root / PW : Rlacl0619)^!(

DB(DEV)
192.168.31.214:3306
database : kimchikan
id : root / PW : Userve0822!

====================================================================

뮤지엄 김치간 (목요일 까지 소스파악) 
나스정보: [02.072] 풀무원\098. 풀무원 뮤지엄김치간 시스템개선 외

* 예약 개념
예약폼이 변경될 수 있음
예약 알림톡 변경 될 수 있음
예약취소 알림톡 변경 될 수 있음
예약안내 알리톡 변경 될 수 있음
체험당일 알림톡 변경 될 수 있음

알림톡 템플릿 오면 DB 등록

* 데이블 정보
1) 프로그램 관리(wp_posts) 
- ID (PK) 
- post_author (MUL)
- post_date
- post_date_gmt
- post_content
- post_title
- post_excerpt
- post_status
- comment_status
- ping_status
- post_password
- post_name (MUL)
- to_ping
- pinged
- post_modified
- post_modified_gmt
- post_content_filtered
- post_parent (MUL)
- guid
- menu_order
- post_type (MUL)
- post_mime_type
- comment_count

2) 예약완료 템플릿(wp_posts_sms)
- post_id (PK)
- reserv_sms
- template_id
- subject

3) 예약데이터(구버전 - wp_postmeta)
- meta_id (PK)
- post_id (MUL)
- meta_key (MUL)
- meta_value

4) 예약데이터(신버전 - wp_rsv_m 암호화 되어 있음)
- rsv_no (PK)
- post_id
- meta_key
- name
- hp_no
- mail
- mem_cnt
- home_zip_code
- home_addr1
- home_addr2
- use_yn
- ins_date
- upd_date
- group_name
- grade
- remarks


5) 예약데이터디테일(신버전 - wp_rsv_d 암호화 되어 있음)
- rsv_no (PK)
- rsv_seq (PK)
- post_id
- meta_key
- name
- hp_no
- mail
- mem_cnt
- home_zip_code
- home_addr1
- home_addr2
- use_yn
- input_type
- ins_date
- upd_date
- group_name
- grade
- remarks

6) 알람톡 템플릿(알림톡 오면 이 테이블에 넣어줌, wp_template)
- id (PK)
- template_id
- template
- template_category
- template_name

예약몇일전, 당일 알림톡 => My Event로 돌림 earlyVisitGuideSms , earlyVisitGuideSms_day 당일

뮤지엄김치간
1. 알림톡
- 예약시 발송 : 같은 템플릿
- 예약변경 시 발송 : 같은 템플릿
- 예약취소 발송
- 3일 or 4일전 안내 발송
- 당일 발송
2. 프로그램 관리 내 예약문자:Template(예약완료)  추가
3. 예약취소 시 템플릿 세팅
4. 중복예약 발생 시 조정 - 업데이트 해줌
5. 상황에 따라 신규 예약폼 생성 - 많이 복잡함(형식에 맞게 조합함)

admin 관리자
public 일반예약 
서버3개 
was2 db1 

partials 폴더 상세 설정
자동화 안되어 있음
아작스 include

한달에 한번, 두 달에 한번 옴.

=======================================================

WD-576 비오토피아 이름 검색 팝업

고객, 내장객, 법인pkg - 검색(멤버사, 주택정보, 동명이인 리스트 표시)

이용자 명 검색 시 현재 고객검색. 내장객 검색 기능, 법인PKG, 고객 (ex. Pos 내장객&객실, 법인PKG, 고객 별 검색)
현재 이용자 검색은 고객 번호만 검색 되고있음
현재 내장중인 고객 을 검색하여 - 비회원일 지라도 해당 주택기준의 멤버사 등을 연동하면 좋을 것 같음

1.이용자 성명 검색 시 해당 주택 정보 불러오기
(맴버사 – 요청 멤버사 1순위로 불러오고 요청 멤버사가 일반주택으로 되어 있을 경우 소유 멤버사로 불러오기,
동명이인이 있을 경우 리스트 표시 必)



-------------------------------------------------------------

작업완료 - order by

작업완료 - 숫자 표기

작업완료 - 바인드

완료 - 1) 비오토피아 바인드
 		BindData = [
 			{ grid : 'memName',			view : 'guestName',			type :'text'},
 			{ grid : 'guestNo',			view : 'guestNo',			type :'text'},
 			{ grid : 'roomNo',			view : 'roomNo',			type :'text'},
 			{ grid : 'relativeType',	view : 'relativeType',		type :'select2'},
 			{ grid : 'memType',			view : 'memType',			type :'select2'},
 		];

   2) 이외 바인드
 		BindData = [
 			 { grid : 'memName',		view : 'guestName',			type :'text'}
 			,{ grid : 'guestNo',		view : 'guestNo',			type :'text'}
 			,{ grid : 'memType',		view : 'memType',			type :'select2'}
 		];
 	
완료 - 3) 투숙객 중에 비오토피아 인경우 멤버사 바인드 추가


완료  - * 투숙객 온천요금 쿠폰 바인드

완료  - * 그리드 정렬
  * 이름 필수입력 후 검색
  * 비토인 경우 입주자 managemnet_type 멤버사(11) 인경우 멤버사, 일반(00)인 경우

※ 패키지 생성
USERVE.PKG_RETRIEVEGUESTINFOPOP


※ 확인사항
1. 모든 탭 뷰의 고객번호 바인드 될 때 회원번호(memNo) 아닌 고객번호(guestNo)로 바인드 시킴
2. 투숙객 온천요금은 RBA01M.BITO_SPA_TYPE 따라서 바인드

 ========================================================

완료 - 1. 아이디 만들기
2. 신입교육 예제 만들기
3. 화면 계산만들기

* 온천락카

내장객(골프) : 비토 온천 사용권한 없음으로 내장객에서 고객선택 시 입장객구분 연동은 업무담당자가 판단 할 수 있도록”--선택--”

투숙객 : 투숙하고있는 주택 번호 확인

주택 = 멤버사 주택
→ 투숙객 이 해당 주택에 등록된 본인/가족/지정인/그 외(게스트, 주택에 등록안된사람) 구분에 따라 코드 연동

주택 = 일반주택
→ 투숙객 이 해당 주택에 등록된 본인/가족/지정인/그 외(게스트, 주택에 등록안된사람) 구분에 따라 코드 연동


* 온천락카 고객구분 연동 작업 


- 투숙객 : 1) 비토(투숙 주택 번호 확인) => 멤버사 => 본인/가족/지정인/그외(게스트, 주택에 등록안 된 사람)
                                      => 일반 => 본인/가족/지정인/그외(게스트, 주택에 등록안 된 사람)
          
RELATION 따라서 바인드

- 비토입주자 :  멤버사 주택 => 본인/가족/지정인  
               일반 주택   => 본인/가족/지정인


RELATION 
공통코드(CR008) : 본인(001), 가족(002), 지정인(003)

========================================
김치간 알림톡 전송 DB작업
wp_template
earlyVisitGuideSms
==============================================
원마운트 개발소스 배포방법(젠킨스 가이드)

원마운트 AS-IS 프로젝트 소스는 해당 디렉토리 OMIS.zip 가져오시면됩니다.

★원마운트 작업 공유사항★
아래 내용 참고해서 작업 하실 때 규격 맞춰주시길 바랍니다.
  1. 화면작업은 AS-IS 참고하여 적용할 것.
   ※ 단 편의성 및 개선가능 한 부분은 협의하에 변경 가능 함.
  2. SQL 프로시저 → 패키지로 변경
     2-1. 패키지명칭은 "PKG_화면명칭" 으로 통일
  3. 화면명칭은 화면 구성에 따라 적용.
    ※ 명칭은 카멜케이스 적용
     3-1. 단순 조회 화면
        ex) retrieveUpjangForm.jsp
     3-2.데이터 관리 화면
        ex) saveUpjangForm.jsp
     3-3.팝업 화면
        ex) popSaveUpjangForm.jsp
   4. 그리드 정렬 규칙
      4-1. 숫자,금액 필드는 오른쪽 정렬
      4-2.  코드, 일정한 길이의 텍스트는 중앙 정렬
      4-3. 그 외 텍스트는 좌측 정렬
   5. 버튼 색상 규칙
      5-1. 신규 - 파란색 (btn info)
      5-2. 저장 - 초록색 (btn success)
      5-3. 삭제 - 빨간색 (btn danger)
      5-4. 엑셀 및 기타 추가 기능 - 검은색 (btn dark)

AS-IS 화면은 나스에 있습니다.  준환씨가 작업중
경로 : \\192.168.31.250\U_Project\[01.045] (주)원마운트\33. 원마운트 통합 시스템 재구축\01. 화면 정리\원마운트AS-IS화면

화면작업이 완료되면 체크리스트 점검해서 점검 결과 나스에 올려주세요.
\\192.168.31.250\U_Project\[01.045] (주)원마운트\33. 원마운트 통합 시스템 재구축\01. 화면 정리\화면체크리스트

작업DB정보
 ⦁ HOST : 192.168.31.214
 ⦁ PORT : 1521
 ⦁ SID   : PMSPINX
 ⦁ USER : OMIS
 ⦁ PW   : userve0822
원마운트DEV DB정보
 ⦁ HOST : 222.101.113.14
 ⦁ PORT : 1521
 ⦁ SID   : OMISDEV
 ⦁ USER : ONEMAPP
 ⦁ PW   : ONEMAPP00
원마운트REAL DB정보
 ⦁ HOST : 222.101.113.21
 ⦁ PORT : 1521
 ⦁ SID   : OMISREAL
 ⦁ USER : ONEMAPP
 ⦁ PW   : ONEMAPP00

1. 화면 UI 구성 AS-IS COPY ? 개선
2. 각 동작 프로시저,SQL 패키지화
3. PKG_화면명...
 화면명
      조회 : Retrive ~~~
    관리 : Save ~~~~
    패키지 : PKG_Retrive ~~~
4. 그리드
      숫자 : RIGHT 오른쪽 정렬
      코드성,길이 일정한 텍스트 : 중앙 정렬
      일반텍스트 : LEFT 왼쪽 정렬
   버튼 배치
     [신규 : 파란색] / [저장 : 초록색] / [삭제 : 빨간색] / [엑셀OR추가기능 : 검은색]

추가적으로 WBS 내일 오전중으로 수정좀 부탁드려요.
작업자별로 일정생각해서(하계휴가, 병행업무 등 고려)
조회성화면은 맨 마지막에 일정잡고,
목표 end는 8/11일
===================================================================

1. 신입교육
완료 - 설계 잘못 될 수 있으므로 의문사항 있으면 질문
완료 - 26일 휴가
- appnend, appendTo 차이

2. 핀크스
완료 - 매니저님 연락 오면 입장객 구분 반영

3. 웰리힐리
- 코드파악, 쿼리 수정

4. 뮤지엄김치간
- wp-admin 접속 가능하게 해야 함
- 코드 파악 

5. 원마운트(8월 11일 까지)
- 캡쳐화면 바탕으로 UI 구성 (개선사항 생기면 질문)
- 각 동작 XML 프로시저로 호출, SQL 패키지화 (쿼리들 패키지화 - 화면당 패키지) EX) 통합회원(대분류) => 중분류(7개 컨트롤러 필요*)
- DEVELOP에서 진행, 데일리 단위로 커밋
- 단체 AS IS 분석
- 관리화면 최우선적으로
- NAS 화면 정리
- 화면 작업 완료되면 체크리스트 체크

★원마운트 작업 공유사항★
아래 내용 참고해서 작업 하실 때 규격 맞춰주시길 바랍니다.
  1. 화면작업은 AS-IS 참고하여 적용할 것.
   ※ 단 편의성 및 개선가능 한 부분은 협의하에 변경 가능 함.
  2. SQL 프로시저 → 패키지로 변경
     2-1. 패키지명칭은 "PKG_화면명칭" 으로 통일
  3. 화면명칭은 화면 구성에 따라 적용.
    ※ 명칭은 카멜케이스 적용
     3-1. 단순 조회 화면
        ex) retrieveUpjangForm.jsp
     3-2.데이터 관리 화면
        ex) saveUpjangForm.jsp
     3-3.팝업 화면
        ex) popSaveUpjangForm.jsp
   4. 그리드 정렬 규칙
      4-1. 숫자,금액 필드는 오른쪽 정렬
      4-2. 코드, 일정한 길이의 텍스트는 중앙 정렬
      4-3. 그 외 텍스트는 좌측 정렬
   5. 버튼 색상 규칙
      5-1. 신규 - 파란색 (btn info)
      5-2. 저장 - 초록색 (btn success)
      5-3. 삭제 - 빨간색 (btn danger)
      5-4. 엑셀 및 기타 추가 기능 - 검음색 (btn dark)
   6. 메뉴 화면 URL COB11D테이블의 URL 컬럼에 수동으로 입력하여 연결 


DB파일용량이 너무 커서, 테이블만 덤프떠서 가져왔습니다. (데이터X)
데이터 조작 및 패키지 생성은 아래 작업DB정보 HOST에서 진행해주시면 되고
테스트 데이터나 프로시저는 아래 원마운트 DEV에 접속하셔서 확인해주시면 됩니다.

작업DB정보
 ⦁ HOST : 192.168.31.214
 ⦁ PORT : 1521
 ⦁ SID   : PMSPINX
 ⦁ USER : OMIS
 ⦁ PW   : userve0822

원마운트DEV DB정보
 ⦁ HOST : 222.101.113.14
 ⦁ PORT : 1521
 ⦁ SID   : OMISDEV
 ⦁ USER : ONEMAPP
 ⦁ PW   : ONEMAPP00

원마운트REAL DB정보
 ⦁ HOST : 222.101.113.21
 ⦁ PORT : 1521
 ⦁ SID   : OMISREAL
 ⦁ USER : ONEMAPP
 ⦁ PW   : ONEMAPP00


 --------------------------------

 원마운트 할 일
 1. 원마운트 화면 소스 파악
 2. 
 3. 화면명 만들기


* 상품관리(crItem)	
 - 상품등록	/cr/cr101/CR10101.do
 - 상품가입등록	/cr/cr101/CR10102.do
 - 가입지금품 등록 /cr/cr101/CR10103.do
 - 판촉원등록	/am/am102/AM10201.do

* 입금관리
 - 입금등록	/cr/cr102/CR10201.do
	
* 현황관리
 - 상품구분별판매현황 /cr/cr101/CR10108.do
 - 기간별상품판매현황 /cr/cr101/CR10109.do
 - 입금현황	/cr/cr102/CR10203.do
 	         

==================================================

완료 - 1. 오전 신입 피드백 체크
완료 - 2. task 적용
완료 - 4. 원마운트 wbs 적용
완료 - 6. 핀크스 운영 개발 쿼리 확인
5. 원마운트 페이지 만들기 
완료 - 합계, 공급가, 부가세 합치기
완료 - 패키지 옳은지 확인
완료 - 검색조건 공통코드 확인
완료 - 셀렉트 쿼리 만들기
신규
저장
수정
삭제
복사
==============================================



완료 - CR058A=ds_sItemDiv,
완료 - CR054A=ds_sIndCorp,
완료 - CR059A=ds_sPayInstDiv, 
CR058N=ds_itemDiv, 
CR053N=ds_Supplies, 
CR003N=ds_guestType, 
BS013N=ds_dcTypeCode, 
CR060N=ds_mdPayDiv, 
CR054N=ds_indCorp, 
CR059N=ds_payInstDiv, 
BS016N=ds_charge_div, 
완료 - GF008A=ds_useYn, 
완료 - CR075A=ds_largeLevel, 
CR075N=ds_itemLargeLevel

=========================

원마운트 
상품등록
완료 - 화면 ui만들기
완료 - f_GridBind 이벤트
완료 - 각 그리드 신규 버튼
- 저장 기능 만들기
- 각 그리드 삭제 기능 만들기 
- 복사 기능 만들기


	}else if(vGridID == "gr_supp"){
		vDataSet.AddRow();     
		vRow = vDataSet.RowPosition;
		vGrid.SetColumn(vGrid.GetColumnID(1));
    
		vDataSet.NameValue(vRow, "itemNo")       = ds_List.NameValue(ds_List.RowPosition, "itemNo");
		vDataSet.NameValue(vRow, "suppliesType") = "002";
		vDataSet.NameValue(vRow, "useYn")        = "Y";     

	}else{
		vDataSet.AddRow();
		vGrid.SetColumn(vGrid.GetColumnID(0));  
		vRow = vDataSet.RowPosition;

		if(vGridID == "gr_item"){


			vDataSet.NameValue(vRow, "itemNo")      = ds_List.NameValue(ds_List.RowPosition, "itemNo");
			vDataSet.NameValue(vRow, "guestType")   = "011";  
			vDataSet.NameValue(vRow, "dcTypeCode")  = "001";
			vDataSet.NameValue(vRow, "useYn")       = "Y";     



		}else if(vGridID == "gr_dpst"){
			vDataSet.NameValue(vRow, "itemNo")      = ds_List.NameValue(ds_List.RowPosition, "itemNo");
			vDataSet.NameValue(vRow, "ds_mdPayDiv") = "001"; 
			vDataSet.NameValue(vRow, "useYn")       = "Y";		
		}



========================================
김치간 알림톡 전송 DB작업
관리자 페이지 - 아이디: userve, 비번: userve311!
테이블 - wp_template
프로시저 - earlyVisitGuideSms(3일전)
프로시저 - earlyVisitGuideSms_day(당일) 
스케줄 등록 PHP - html-admin-schedule-add
취소 PHP - class-hamakimchi-ajaxs

월력 예약팝업 테이블 - wp_posts 테이블에서 post_date 변경해주고 / publish / open으로 변경

VPN
https://ssl2.pulmuone.com/
ID : userve05  / PW : sslvpn!@34
==============================================


작업완료 - 뮤지엄 김치간
* sk 핀크스 : 이름 들어간 화면 리스트 작성 후 대소문자 조회
* 원마운트
1. 메인 
완료 - 등록, 
완료 - 수정, 
완료 - 삭제 

2. 서브그리드 
등록, 수정, 삭제

복사기능

============================================


sBookName 예약자명
sGscName 방문객명
sPakageType 패키지명

완료 - gr_DateList
완료 - gr_ReservList
*checkReservPerformance.Detail_All_Select 패키지


==========================================================


OMIS 원격접속
222.101.113.12
administrator
qwe!23

아이디: 001234 
비번: 432100

===========================

task에 직책변경
뮤지엄김치간 - 예약오픈 후 예약데이터 정리
원마운트 - WBS 업데이트, 사원휴가 관리

=============================

원마운트
- 가입지급품등록 점검
- 상품등록 페이지 수정
- 판촉원 등록 신규작업


 "CR003"=ds_guestType, 
,"BS013"=ds_dcTypeCd, 
,"CR004"=ds_job, 
,"CR008"=ds_relation, 
,"CR058"=ds_itemDiv, 
,"CR059"=ds_payInstDiv, 
,"CR054"=ds_indCorp, 
,"BS016"=ds_charge_div, 
,"CR060"=ds_mdPayDiv, 
,"CR053"=ds_Supplies, 
,"GF008"=ds_Yn, 
,"CR057"=ds_lunarCode, 
,"CR023"=ds_dmSendDiv, 
,"CR055"=ds_sex)" />   

=========================================================

상품가입등록 
완료 - 고객명 팝업 셀렉트 가져오기
완료 - 자택주소 팝업 가져오기
완료 - 가입상품목록 가져오기 
완료 - 상세목록 가져오기
완료 - 입금예정목록 가져오기
완료 - 지금품목록 가져오기
완료 - 추가회원 목록 가져오기


수정가능 한곳 
* 가입상품목록
완료 - 수수료구분: 비율, 금액 셀렉트
나중에 - 판촉원명: 팝업창
완료 - 수수료율/금액: 입력가능
완료 - 계약일자: 입력가능

* 상세목록
완료 - 회원유형: 셀렉트 박스
완료 - 우대유형: 셀렉트 박스
완료 - 개월, 일, 횟수
완료 - 개시일자

* 입금예정목록
모두 수정 불가

* 회원별 지금품정보
완료 - 지급일자: 수정가능
완료 - 지급품코드, 지급품명: 셀렉트
완료 - 지금품구분: 수정불가
완료 - 지급수량: 수정가능

* 추가회원목록
완료 - 1) 본인: 모두 수정 불가
2) 본인 외: 고객번호, 고객명 수정불가, 나머지 수정가능 

==========================================

완료 - 신규버튼 로우 추가
팝업창
저장 하기
수정 하기
삭제 하기
팝업창 선택 후 추가 경우에 따라서 추가로우
기능 버튼 구현




====================================

완료 - 1. 이용일 변경, 이용자명 검색
이용자 명 검색 및 이용일 변경 가능 할 수 있도록(이용일 막은 사유가 있을 경우 확인 필요)

완료 - 2. 영업일자 초기화
영업일자 변경 락카 정산 후 정산 창 닫기 시 영업일자가 금일 영업일자로 초기화되지 않도록

완료 - 3. 온천요금 기본값 연동
입장객 구분, 온천요금코드 설정 조건 외 일 경우 기본값(멤버사 이용객 / 멤버사_25,000)

완료 - 관계사 > 멤버사 명칭 변경 및 엑셀 코드 표시 조치
명칭 변경 및 엑셀 파일 조치

보류 - 5.리체크인 시 사용 중인 락카
리체크인 시 락카 사용중일 경우 임시락카 처리 관련 내용 검토

* 원마운트
1. 상품가입등록
완료 - 지급품조회 팝업 추가
완료 - 상품조회 팝업
완료 - 판촉원 검색 팝업
CRUD


회원정보
LblockDetail01

가입상품목록
gr_List

가입비고
em_memRemarks

상세목록 - 행추가 불가
gr_item

입금예정목록 - 행추가 불가
gr_dpst

회원별 지급품정보
gr_supp

추가회원목록
gr_fam

====================================
CRUD
완료 - 1. 가입상품목록 
완료 - 2. 상세목록 
완료 - 3. 입금예정목록 
완료 - 4. 지급품목록 
완료 - 각 그리드 수정 막기, 풀기
완료 - 각 그리드 고객번호 삽입
완료 - 5. 추가회원목록 

보증금 안나타나는지 확인
금액계산 넣기
메인그리드 계약일자 확인 

* 추가회원 유효성 검사
중복체크
추가고객의 고객명
추가회원의 생년월일
추가회원의 생녕월일(날짜포맷)
추가회원 휴대폰 번호

삭제 전체 처리
필요없는 컬럼 히든처리
동기처리

휴대폰번호 체크
전화번호 체크
팩스 체크
gr_Item 업데이트 주석 풀기, 필요없는 컬럼 히든처리

마스터 고객번호(masterGuestNo) 마스터 가입번호(masterMemNo)
고객번호(guestNo) 가입번호(memNo)
마스터 고객번호 마스터 번호

본인 상품 등록시 마스터고객번호, 고객번호 / 마스터 가입번호(시퀀스), 가입번호(시퀀스) 동일하게 들어감
추가 가입하는 경우 해당 가족고객번호의 시퀀스가 가입번호

* 리스트 수정 가능 부분
- 수수료 구분
- 수수료율/금액
- 판촉원명
- 계약일자
※ 신규시 - 상품명, // 수수료구분, 수수료율/금액, 판촉원명, 계약일자

* 상세목록 수정 가능 부분
- 회원유형
- 우대유형
- 개월
- 일
- 횟수
- 개시일자(필수값)

* 입금예정목록 수정 가능 부분
- 완료가 N인 경우 예정일자, 보증금, 합계, 메인그리드 그대로 반영

* 회원별 지급품정보 수정 가능 부분
- 지급일자
- 지급품명 팝업
- 수량
※ 신규시 동일

* 추가회원목록
본인 수정 안됨 
본인 외 관계, 고객명, 생년월일, 음력구분, 휴대폰 수정가능
※ 신규시 본인 외 관계, 고객명, 생년월일, 음력구분, 휴대폰 수정가능

* 김치간뮤지엄
- 로컬 페이지 접속 오류 수정
- 체험예약 페이지 변경 진행

* 원마운트
- 상품등록, 상품가입 페이지 수정


=====================================================================

* 원마운트 단체행사
1) 실적관리
완료 - 월별 실적 조회(조회)                   /am/am202/AM20204.do
단체별/행사별 매출조회(조회)            /am/am202/AM20203.do
결과통보서 (조회)                      /am/am202/AM20202.do
추가매출등록 (신규/저장/삭제/팝업 3개)  /am/am202/AM20201.do


1)단체관리 : amMngm
2)판촉직원관리: amPrmtMngm
3)진행관리: amProgMngm
4)실적관리: amPrfrMngm


AMB08M = AMB04M(파크) + AMB05M(기타) + AMB06M(스포츠)

AND WORKGRP_CODE IN (300, 500) -- 파크
AND WORKGRP_CODE IN (700, 800, 900) --기타
AND WORKGRP_CODE IN (100, 200) -- 스포츠 


완료 - 아이디값 일치
완료 - 바이트 핸들러
완료 - NET VAT 계산
완료 - 팝업 셋팅
완료 - 연회행사 팝업 페이지 만들기
완료- 메인 그리드 셀렉트
완료 - 조회
완료- 저장 
그리드 바인드(seq 히든처리, 영업장 코드, 사원 코드, net, vat)
수정 
삭제

* 단체 남은 작업들 
단체관리 > 단체고객등록 (최상)
진행관리 > EVENT ORDER (하)
진행관리 > 금일행사조회 (하)
진행관리 > 영업장별행사조회 (하)

=====================================================================

포인트 리스트 
gr_reserveFundList

PKG_SaveMemberForm.SP_INSERT_POINT / SP_UPDATE_POINT


call PKG_SaveMemberForm.SP_INSERT_CORP_PKG2 


		}else if(mode.equals("CP")) {
			result = crmMemberMapper.SaveMemberForm_Insert_CorpPkg(param);
		}

법인 패키지 추가 => 저장 => 포인트 저장(PKG_SAVEMEMBERFORM.SP_INSERT_CORP_PKG2) => 해당 멤버사값 파라미터 없음


* 오늘 할일
1) 핀크스 
완료 - 골프예약추천인 관리 : 취소 포함
PKG_CORPPKGRSVRECOMMNGM.SP_SELECT3 프로시져 추가
PKG_CORPPKGRSVRECOMMNGM.SP_SELECT_RSV3 프로시져 추가

완료 - 회원관리: 포인트 멤버사 등록, 멤버사 바인드
PKG_SaveMemberForm.SP_INSERT_CORP_PKG3 프로시져 추가


* 오늘 할일
1) 김치간
예약안내, 당일, 취소 작업방법 정리

2) 원마운트 
- 단체고객등록

3) 핀크스
완료 - 회원관리 페이지 신규고객 법인PKG 등록 시 오류 수정 


* 오늘 할 일 
1. 원마운트
 - 단체고객등록

2. 김치간
 - 신규알림톡 등록

3. 핀크스 
dev 태블릿권한관리 확인 요청


* 상품가입등록
완료 - 메인그리드 셀렉트 
완료 - 폼 바인드
- 저장
- 수정
- 가입정보출력

회원정보 등록 PR_CR20101_01 프로시저


* 오늘 할일
1) 핀크스 지라 이슈관리
- WD2023-509 비오토피아 온천락카판매등록
 1. 이용자 명 검색 시 현재 고객검색
 2. 입장객 구분 연동
 3. 온천요금 구분 연동
 4. 비오토피아 온천 락카 등록 관련
- WD2023-1032 비오토피아 온천 관련 
 1. 투숙객 선택시 주택번호 컬럼 연동필요
- WD2023-1135 골프 법인 PKG 추천 차감 횟수 관련의 건
- WD2023-1145 통합예약취소내역조회
- WD2023-1150 법인PKG 신규가입 관련 확인 요청

2) 원마운트
완료 - 가입정보출력
- 전화번호 양식
- 세부적인 원본내용 확인

3) 김치간
예약안내 템플릿 변경
B422_0097 => B422_0098

1. 신규 템플릿(B422_0098) 테이블에 등록 
2. 템플릿 선택하는 select에 신규코드로 변경 [(구)B422_0097 => (신)B422_0098)]
3. 기존에 구 코드로 등록된 프로그램들 신규 템플릿 코드로 변경 [(구)B422_0097 => (신)B422_0098)]
4. 3일전, 당일 프로시저도 변경 [(구)B422_0097 => (신)B422_0098)]


* 오늘 할일 (2023-08-30)

완료 - 1. 핀크스 반영 inreview 요청
2. 원마운트 테스트 및 오류 수정
3. 핀크스 미리 업무

* 원마운트 수정사항
1. 상품등록
완료 - 입금예정(월) 달력인지 확인
완료 - 행추가 오류 수정
보류 - 서브 그리드 명암처리

2. 상품가입등록 
완료 - 마스크 처리
바인드시: 상품명 수정X

유효성 검사

3. 추가매출등록
- 판촉원 팝업 no-data 검색
- 연회행사, 영업장 수정안되고 판촉직원만 수정되는게 맞는지


오늘
상품등록, 상품가입등록, 
상품등록 
지급품조회 팝업 페이지 수정 



완료 - 법인일 때 유효성 검사
저장 후 로드된 로우키 선택
지급수량 빨간색 확인


* 오늘 할 일
상품가입등록
완료 - 저장 후 해당위치 
완료 - 버튼위치 변경
완료 - 유효성 검사
완료 - 판촉원 팝업 조회 안됨
완료 - 상품조회 팝업 조회 안됨

* 통합예약취소내역조회 핀크스
1. 예약일자 조회
- 파라미터
sBookStDate : $("#sBookStDate").getCal(),
sBookEdDate : $("#sBookEdDate").getCal(),
sBookName : $("#sBookName").val(),
sGuestType : $("#sGuestType").val(),
sSourceCode : $("#sSourceCode").val(),
sNoShowCancel : $("#sNoShowCancel").val()
- 주소
/rsv/SaveReservCancel_Select.do


2. 검색조건 전체예약
- 파라미터
sStReservDate   :  $("#sBookStDate").getCal(),
sEdReservDate   :  $("#sBookEdDate").getCal(),
sBookName : $("#sBookName").val(),
sGuestType : $("#sGuestType").val(),
sSourceCode : $("#sSourceCode").val(),
sNoShowCancel : $("#sNoShowCancel").val(),
- 주소
url : "/rsv/SaveReservCancel_Detail_Select.do",

3. 바인드 당일 예약
- 파라미터
sStReservDate   : rowData['saleDate'].replaceAll('-',''),
sEdReservDate   : rowData['saleDate'].replaceAll('-',''),
sBookName : $("#sBookName").val(),
sGuestType : $("#sGuestType").val(),
sSourceCode : $("#sSourceCode").val(),
sNoShowCancel : $("#sNoShowCancel").val()
- 주소
url : "/rsv/SaveReservCancel_Detail_Select.do",


* 오늘 할 일(20230901)
1. 핀크스(통합예약 취소 작업)
- 컬럼
 골프: golfCnt 
 포도호텔: hotelPodoCnt 
 아넥스: hotelAnnexCnt
 비오토피아: hotelBioCnt
- 테이블: 
 BSH01M(월력정보)
 RSA51S(통합예약)
 RSA50S(골프예약)
 CRA01M(고객정보)

2. 원마운트
 - 오류 엑셀 정리
 - 오류 수정


http://erp.onemount.co.kr/cr/cr301/CR30101.do?menuCode=001003003001&menuId=CR


* 오늘 할 일(20230904)
- 상품관리 추가회원 삭제 시 상품삭제 원인

가입 상품 셀렉트
CRA03M 가입상품정보
CRG01M 상품정보
CRG04D 입금예정정보

추가회원 삭제
CRA03M 가입상품정보
CRB01M 회원카드/증서발급정보

단체고객등록


* 원마운트 단체 남은 오류들
영업장별행사조회: 행사업장 셀렉트 박스 조회 => work_code, upjang_code 구분??
결과통보서: 계약직원 조회인지 판촉직원 조회인지??

* 오늘 할일
오전
완료 - 핀크스 반영 후 매니저 
완료 - 엑셀 정리
- 원마운트오류 수정

오후
핀크스 영수증 업무

* 오늘 할 일(2023-09-08)
핀크스
 - 증서문서출력 오류 확인
 - 제스퍼 
 - 통합예약취소내역조회

루나엑스
 - 정의서 작성


* 오늘 할 일(2023-09-11) 
완료 - 지라 엑셀 반영 작성
완료 - 단체 테이블 작성
경기진행등록 프로세스 파악

 1. 경기진행등록(15일)
	- 프로세스: 통합예약 => 내장객접수등록 => 경기진행등록
	- 제외항목: 캐드 => 카트(카트정보 등록 참고) 변경, 캐디피 삭제, 식사중 삭제, 캐디실공지사항 삭제
			추천인, 골프백 삭제
	- 변경항목: 3 => 4코스(공통코드 RS511)
	- 화면들: 메인화면 / 카트 팝업창 / 경기진행정보 수정 팝업창 / 스코어카드등록 / 골프내장객 상세조회 팝업창 / 팀배정표 출력
			2           2               2                    2                  2                         2


* 내장객접수등록
gr_BookList -- 좌측 상단 예약 그리드
gr_reservList -- 좌측 하단 연결예약정보

gr_entrListD -- 중간 그리드

gr_record -- 우측 상단 회원정보 그리드
gr_reserveList -- 우측 상단 골프예약현황 그리드
gr_GuestUniquenessList -- 우측 하단 그리드



* 김치간 뮤지엄
당일안내 알림톡 템플릿 추가 
당일안내 스케쥴러 내 추가


* 오늘 할 일(2023-09-12)
루나엑스
- 부사장님 골프 프로세스 회의
- 코드파악
- 환경셋팅
- 메뉴 등록

김치간 뮤지엄
-당일안내 알림톡 템플릿 추가 



우선적인 업무
코드파악
url 정리
프로시저 테이블 파악
테이블 비교


일마감관리
요금정산관리 


* 오늘 할 일
고객정보: 회사명, 직위 
회원정보 탭, 골프예약현황 탭
연결예약정보그리드
지불내역그리드
작업 후 vMemType => vGuestType 변경


보류 - 공통코드 GB015 추가 할지
보류 - 인턴메모(internmeno) 추가(IM003):초기화, 바인드 ,버튼생성

* 골프관련 테이블 정의
RSA50S: 골프예약
RSA51S: 통합예약
RSA52S: 골프타임시트
GBC03S: 캐디, 카트
GBA01M: 내장M
GBA01D: 내장D

* 질문사항
할인금액(1인): 할인금액 어떻게 나타나는지?? 
              RSA50S 골프예약의 할인율

요금구분: 골프타임시트 RSA52S 적용 요금코드에서 가져오는지?

단체명, 단체코드 어디서??

* 내장 저장
if (예약: rsa50s, rsa54s 조회)
 -> 내장M, 내장D 저장
else (워크인)
 -> 통합예약 
 -> 골프예약
 -> 내장M, 내장D 저장

rsa54s 내장자 D 정보를 뿌려 줌

* 시작 프로세스 순서 
1) f_search_btn(): f_search() 호출 => 2) f_search(): input 초기화, 
                                                     마감여부 조회, 
                                                     Day Type Code 조회, 
                                                     골프타임시트를 ds_BookList 담은 후 fillBookList() 호출해서 그리드 그려 줌

* 예약리스트 바인드 프로세스
1) f_GridUpdateRow(): 우측 고객정보 초기화, f_search_entrM() 호출  
2) f_search_entrM(): 선택된 예약정보에 예약번호 없는 경우 "WORKIN", 예약정보 있는 경우 "VISITOR" 
                     bookJson에 ds_BookList(골프타임시트) 담음
                     selectedItem에 선택된 예약정보를 담아서 input값을 뿌려줌
                     ds_entrListM에 예약 마스터 정보를 담아서 input값에 뿌려줌
                     f_search_entrD(타임시트정보, 예약마스터정보) 호출
3) f_search_entrD(): ds_entrListTemp에 예약 디테일 담음
                     ds_BookListComp에 내장공통을 담은 후 ds_BookListCompOnLoadCompleted(내장공통) 호출

4) ds_BookListCompOnLoadCompleted(): 예약 디테일 그리드 초기화,
                                     ds_BookListObj에 선택된 예약정보를 담음
                                     예약 디테일의 정보와 적용요금 담아서 그리드로 그려 줌 
                                                                       
* 요약 
시작 프로세스: ds_BookList(예약 리스트)
바인드 프로세스: ds_entrListM(예약 마스터)
                ds_entrListTemp(예약 디테일)


                
* 오늘 할일
완료 - 4개 줄 나타내기
완료 - 저장 후 상태 내장 변경
완료 - 연결예약정보 바인드
완료 - 골프예약현황 바인드(고객번호 존재하지 않아 조회 안됨)
추후 - 지불내역 바인드
그린피, 카트료, 입장료, 
워크인 저장
완료 - 금액


grvPopupService -> grvSaveReservFormPop_Control

@RequestMapping(value = "/grvPopup/grvSaveReservFormPop_GolfCartFeeSelect.do")
	public void grvSaveReservFormPop_GolfCartFeeSelect(HttpServletRequest request, HttpServletResponse response) throws Exception {
		
		HashMap<String, Object> param = RequestUtil.getParameter(request);
		List<?> list = grvPopupService.grvSaveReservFormPop_GolfCartFeeSelect(param);
		System.out.println("list>>>");
		System.out.println(list);
		CommonUtil.printTuiGridSet(param, list, response);
	}


  grvSaveReservFormPop_GolfReservCancel

grvPopupMapper


보시면 이거 호출하면 돼요
그냥 별거없는 쿼리라 같이쓰는게 나을것같아여


연결예약정보
/rrvReservPop/rrvSaveReservCancelPop_Reserv_Select.do



===============================================================================
2023-09-07 (목)
* 원마운트(실질적 10월 13일까지(20일), 10월 20일 까지(25일)) 
1. 경기진행등록(15일)
	- 프로세스: 통합예약 => 내장객접수등록 => 경기진행등록
	- 제외항목: 캐드 => 카트(카트정보 등록 참고) 변경, 캐디피 삭제, 식사중 삭제, 캐디실공지사항 삭제
			추천인, 골프백 삭제
	- 변경항목: 3 => 4코스(공통코드 RS511)
	- 화면들: 메인화면 / 카트 팝업창 / 경기진행정보 수정 팝업창 / 스코어카드등록 / 골프내장객 상세조회 팝업창 / 팀배정표 출력
			2           2               2                    2                  2                         2

2. 골프기록등록(4일)


2. 단체쪽(6일)
단체고객등록(3일)



타임시트추가, 


* 예약일 때 내장객추가, 내장객 삭제 안나타나게
* 오늘 할 일
완료 - 내장객 수정
완료 - 내장객삭제 버튼
완료 - 내장팀삭제 버튼
완료 - 연결예약상세조회(골프랑 영업장 탭만)
- 내장객추가 쿼리 수정
- 예약시 내장객 추가 버튼x
완료 - 지불내역

- 골프예약현황 탭

추후 - 내장객명 탭
추후 - 입장료 세부조정
추후 - 캐디카트금액변경



* 루나엑스 내장객 접수등록 피드백
완료 - 1.요금 세부 조정(입장료 => 그린피, 카트료)
  입장료(총금액): 그린피 + 카트료 
  GBA01D -- ENTR_FEE 그린피, 
  RSA54S -- 카트료  
   입장료(총금액)

완료 - 2. 타임시트 팝업 수정

완료 - 3. 레인체크 오류 수정

4. 내장객 삭제, 내장객 추가 쿼리 수정 예정
 마스터(GBA01M) 테이블로 CNT 변경

5. 고객정보, 예약정보 바인드 수정 

6. 예약금 관리
 예약팀 저장하는 경우 => 예약금관리(사용 변경)


* 내장객 접수등록
(완료) 1.요금 세부 조정(입장료 => 그린피, 카트료)
(완료) 2. 타임시트 오류 수정
(완료) 3. 레인체크 오류 수정
(완료) 4. 골프이용조회/대여품등록 팝업 추가

(완료) 5. 내장객 추가/삭제 인원기준 쿼리 수정
(완료) 6. 내장객 팝업 추가
(완료) 7. 고객정보, 예약정보 바인드 수정 

8. 예약팀 저장 시 예약금 관리 추가(박책임님 가이드)
(보류) 9. 워크인 접수등록 

인원 
내장 => MemCnt
예약 => teamMemCnt
기본타임시트 => playMemCnt

1. 지불내역 추가확인
2. 요금정산관리 사용 확인

오늘 할일
완료 - 1. 내장객그리드 좌,우 스크롤안생기게 조정
완료 - 2. 검색 외 핫키 우선 제거해주셈
3. 요금적용(그린피 합산)
완료 - 4. 핀크스 반영 전 리얼, 개발 씽크 확인

* 오늘 할일
1. 핀크스
- 매출조정
작업완료 - 직원발송SMS

2. 루나엑스 
- 요금정산관리 페이지 카트료, 예약금 정산 수정

3. 제니패션
환경설정 및 프로세스 파악

내장객접수등록 피드백 수정사항
 - 입장료 => 그린피, 카트료 요금 세부 조정  
 - 타임시트 추가 함수 수정
 - 레인체크 오류 수정
 - 내장객 추가/삭제 인원기준 쿼리 수정
 - 고객정보 및 예약정보 바인드 수정
 - 예약금 관리 프로시저 추가(※ 점검 필요)
 - 골프이용권조회, 대여품등록 팝업 추가
 - 내장객그리드 스크롤 조정
 - 검색 외 핫키 제거


* 박책임님 보고
- 예약금 안나오는 거

* 오늘 할일(2023-10-12)
1. 루나엑스
- 요금정산관리 페이지 예약금 정산 확인예정
- 매출합산 테이블 사용 페이지 조사

2. 김치간
완료 - 알림톡 생성

3. 제니패션
- 환경설정

GBB01D -- 정산Detail 테이블
GBA01M -- 내장M 테이블
GBB03S -- 매출합산 테이블
GBA01D -- 내장D 테이블
PSB40M -- 입금정보 테이블

오늘 업무 보고
1. 김치간 뮤지엄
 - 신규 알림톡 생성

2. 루나엑스
 - 매출합산 테이블 제거 시 사용 페이지 문제 검수

3. 제니패션
 - 프로세스 파악

1. 제니패션
2. 루나엑스



* 정산리스트 페이지
  O SP_CHARGELIST_GR_LIST_SELECT_DETAIL : 활용: GBB01D테이블 조인하여 상세정보 탭에 받을금액 계산하여 표출
                                          쿼리: (GBB03S.PAYMENT_AMT - GBB01D.PAY_AMT) AS TOT_AMT(받을 금액) 셀렉트

* 요금정산관리 페이지
	X SP_VISITORCHARGECALC_BOOKINGMASTERLIST_SELECT : 활용: gr_BookList 그리드에서 사용하지 않으므로 삭제해도 무방  
  
  O SP_VISITORCHARGECALC_SALEMASTERLIST_SELECT : 활용: GBA01D테이블 조인하여 gr_saleMaster 그리드에 입장료/카트료/레스토랑/그늘집/프로샵/대여료/객실/기타업장/이용액 표출
                                                 쿼리: CLUB_AMT, RENT_AMT, ENTR_AMT, CART_AMT, PRO_AMT ,SHADE_AMT, CONDO_AMT 및 합산 셀렉트
                                                                                           
	X SP_VISITORCHARGECALC_SELECT_GROUP_AMT : 활용: 그룹정산내역 호출 사용x	

	O SP_VISITORCHARGECALC_CALCINFO_SELECT : 활용: GBA01D테이블 조인하여 인원N/1 지불금액 조회 사용 쿼리: CLUB_AMT, RENT_AMT, CART_AMT, PRO_AMT, SHADE_AMT, PRACTICE_AMT, CONDO_AMT 합산 셀렉트

	O SP_VISITORCHARGECALC_LOCKERCLOSELIST_SELECT : 활용: GBB03S테이블에 MODIFY_FLAG(수정여부) 카운트 조회하여 '정산준비'/'정산완료' 상태를 나타냄
                                                  쿼리: MODI_CNT(카운트) 셀렉트  

	△ SP_VISITORCHARGECALC_PAYINFOLIST_SELECT : 활용: 정산내역(지불내역) 그리드 표출	
                                               쿼리: GBB01D테이블 조인에만 사용

	O SP_VISITORCHARGECALC_SALE_ACTION_SAVE : 활용: 합산정보 저장	
                                            쿼리: MODIFY_FLAG, ENTR_AMT, CLUB_AMT, RENT_AMT, CART_AMT, PRO_AMT, SHADE_AMT, CDD_FEE, CONDO_AMT, PRACTICE_AMT 해당컬럼 업데이트

  O SP_VISITORCHARGECALC_CALC_ACTION_SAVE : 활용: 입금정보 저장	
                                            쿼리: A.PAYMENT_AMT = PAY_AMT, MODIFY_FLAG = DECODE(PAY_AMT,0,MODIFY_FLAG,'3') 업데이트

	O SP_VISITORCHARGECALC_CALC_ACTION_CANCEL_SAVE : 활용: 요금정산관리 - 합산정보 삭제 / 통합결제 팝업 - 취소승인(골프정산)
                                                   쿼리: PAYMENT_AMT = SUM(NVL(PAY_AMT, 0), MODIFY_FLAG = 3 업데이트 

	O UPDATE_DAY_GOLF_SALELIST: 활용: 전체매출재조회 버튼(정산내역생성 및 변경여부 체크 조회 일 전체 재조회)
                              쿼리: USE_AMT 합산에 사용, MODIFY_FLAG > 0 조건 조회하여 0인 경우 해당지불락커 전체 삭제 후 인서트

	O UPDATE_GOLF_SALELIST :  활용: 메인 그리드 바인드 시 정산내역생성 및 변경여부 체크	
                            쿼리: MODIFY_FLAG > 0 조건 조회하여 0인 경우 해당지불락커 전체 삭제 후 인서트
	

* 일마감관리 페이지
	X SP_SAVEGBCLOSINGDAYFORM_SELECT_TAX : 활용: 마감 시 RENT_PRSN 컬럼 셀렉트하여 데이터 전송하나 실제로 저장X


* 내장객접수등록 페이지	
	O DEPOSIT_USING : 활용: 예약금관리, SP_VISITORCHARGECALC_CALC_ACTION_SAVE 프로시저 호출
                    쿼리: A.PAYMENT_AMT = PAY_AMT, MODIFY_FLAG = DECODE(PAY_AMT,0,MODIFY_FLAG,'3') 업데이트

	O SP_SAVEACCEPTVISITORLISTFORM_SELECT_CALCULATE_CHK : 활용: 정산여부 확인	
                                                        쿼리: MODIFY_FLAG > 2 조건으로 조회하여 카운트 

	X SP_SAVEACCEPTVISITORLISTFORM_DELETE_ENTERD : 활용: 내장객 삭제
	
	X SP_SAVEACCEPTVISITORLISTFORM_DELETE_ALLRESERV : 활용: 내장팀삭제	

* 오늘 할 일
힐리언스 회사 변경 
유심천 이미지 크기, 폰트 변경
풀무원 차량 프로젝트 추가 ㅠ6ㅠ

* 대여시설관리
영업지원(대분류) => 시설관리(중분류 )
1. 대여시설 그룹관리(FAC01M): Save
 영업지원 => 메뉴그룹등록 참고
 메뉴그룹 코드(001) 시퀀스
2. 대여시설 관리(FAC01D)
 월력페이지 참고
 영업장 시설구분 현재상태 시설번호


대여시설 그룹관리 /bs/SaveRentalFacGroupMngm.do
대여시설 관리 /bs/SaveRentalFacMngm.do


/spt/SaveMenuUpjangGrpForm_Select_Upjanglist.do
/spt/SaveMenuUpjangGrpForm_Select_MenuList.do
/spt/SaveMenuUpjangGrpForm_Select_Excel.do

/spt/SaveMenuUpjangGrpForm_Select_Upjanglist.do
/spt/SaveMenuUpjangGrpForm_Select_Excel.do
/spt/SaveMenuUpjangGrpForm_Control.do



북코스 비활성화 
북코스 9홀만 등록(유효성 검사)


호텔 / 골프 대여품 추가, 변경, 삭제 내역 history 관리 가능하도록 구조 변경
=> 다음주 작업예정


오늘 할 일
완료 - 1. 대여시설 그룹관리
완료 - 2. 대여시설 관리
완료 - 3. 북코스 비활성화 
풀무원차량 환경설정
회원관리 확인


오늘 할 일
완료 - 1. 대여시설 관리 중복 프로시저 제거
완료 -2. 발송내역 이미지 조회 레이아웃 
3. 히스토리 파악
 - 오라클 트리거 개념과 사용법
완료 - 4. 김치간 뮤지엄 중복체크 

5. 안드로이드 스튜디오 프로젝트 추가

/bs/SaveRentalFacMngm_Select_FacilGroup.do



* 발송내역 이미지 표출
- 테이블 CRB01I, CRB01D
- SMS/알림톡 본인부서 발송내역
- SMS/알림톡 발송내역
- 색상: #D3FCC8
addRowClassName 로우 색상 추가

예제)
,loadComplete : function(json) {
			var gr_FacilList = $("#gr_FacilList").getGrid();
			$.each(gr_FacilList.getData(), function(index, rowData) {
				var dayTypeCode = rowData["statusCode" ] == null ? "" : rowData["statusCode" ] + "";
				switch (dayTypeCode) {
					case '001' :
						gr_FacilList.addRowClassName(index, "CellStyle001");
					break;
					case '002' :
						gr_FacilList.addCellClassName(index, "statusCode", "CellStyle002");
					break;
					case '009' :
						gr_FacilList.addCellClassName(index, "statusCode", "CellStyle009");
					break;
				}
			});
			
		}



* 오늘 할 일
완료 1. 메일 업무 파악
진행 중 - 2. 발송결과 이미지 조회 - 로우그리드 색상 표시
2. 개인정보관련 테이블 파악

cra01m, cra02m


 회원관리 탭: 회원정보탭, 혜택 탭, 포인트 탭, 계약정보 탭

회원정보 탭
CRA01M, CRA02M, CRA03M, CRA01I


오늘 할 일
핀크스
1. - SMS/알림톡 본인부서 발송내역 
(PKG_SMSANDTALKSTAT SELECT 추가, PKG_SMSANDTALKSTAT 이미지 셀렉트 프로시저 생성)

2. 개인정보처리 로그 페이지 추가



폰트, 스크롤, radio 버튼
* 문제 페이지
1.: 상단 검색 부분 깨짐
3.식음예약관리: radio 버튼

1. 하단 스크롤
통합예약 - 통합예약조회
영업일보(골프)
영업일보(객실)
영업일보(비오토피아)
식음서비스 대상조회

2. 폰트
온천락카판매등록

3. radio 버튼
식음 예약관리
대기예약등록

4. 그 외 화면깨짐



차주 업무
1. 핀크스
- PMS 확인 요청의 건 (12 대분류: 준환, 대국, 태민)
오류 예시
- 요금정산관리 기능 추가 확인 요청의 건
- 히스토리 관리

2. 루나엑스
- 요금정산관리
완료 - 1) 전체재조회 버튼 제거
완료 - 2) 내장객 그리드 中 "레스토랑","그늘집","프로샵","객실" 제거
완료 - 3) 입장료, 카트료 = GBA01D에서 조회
완료 - 4)대여료(RENT_AMT) = PSC40M: RESERV_NO, RESERV_SEQ, ENTR_SEQ 기준 골프 대여 1102 에서 발생한 금액 SUM
완료 - 5)기타업장(PRACTICE_AMT) = PSC40M: ESERV_NO, RESERV_SEQ, ENTR_SEQ 기준 골프 대여 1102 제외 발생한 금액 SUM

6) 각 화면에 GBB03S 로직 제거


요금정산 화면 외 GBB03S 건드리는 화면들 로직 제거
로직이 제거됨에따라 에러or이슈발생시 보고


* 오늘 할일 
완료 - 1. 김치간

2. 핀크스
전체페이지 css 점검 (통합예약 완료)

3. 루나엑스
- 요금정산



* GBB03S 제거 시 해당 컬럼
MODIFY_FLAG
CONDO_AMT

* 오늘 할일(20231024)
1. 핀크스
완료 - 1) 골프영업, 경기운영 css 점검 
완료 - 2) 요금정산관리 카드오픈 기능 추가

3) 히스토리 관리 업무

2. 루나엑스
GBB03S => GBB01D 테이블

3. 유심천


* 오늘 할 일(2023-10-26)
1. 핀크스 
완료 - 요금정산 관리 페이지 스코어카드 
완료 - 대분류' 객실영업', '단체' 점검 및 이슈 리스트 작성예정
이슈리스트 - (영업일보(객실), 영업일보(비오토피아), TennisCourt 예약현황)

2. 김치간뮤지엄
고객 예약변경 및 취소
- 이름 변경 시 인원체크 안하게끔 
- 취소 시 취소프로세스 내에 F_TOTAL_WEEKDAYS 이용해서 3일전 오전 11시 까지 취소 못하게 처리


* 오늘 할 일(2023-10-27)
1. 핀크스
완료 - 대분류 영업지원 점검 및 이슈 리스트 작성예정 

2. 김치간
예약 이름변경 시 유효성 검사 추가
예약취소 시 기간에 따른 취소가능여부 유효성 검사 추가 

3. 유심천
완료 - 이미지 리사이즈


//		loadCardBase = loadCardBase.getSubimage(129, 644, 375, 160);
		loadCardBase = loadCardBase.getSubimage(45, 715, 569, 260); // 1: 낮을수록 왼쪽 2: 높을수록 아래, 3: 높을수록 길어짐



    MK233286 4명 예약

    MK233287 5명 예약

* 오늘 할 일(2023-10-30)
1. 핀크스
완료 - 깨진 페이지 확인

2. 김치간 뮤지엄
완료 - 고객 예약변경 및 취소 화면에서  이름 변경 시 인원체크 안하게끔
취소프로세스(ajax.php) 내에서  조회하는 쿼리 내  F_TOTAL_WEEKDAYS 이용해서 
취소가능,불가능 체크(3일전 오전 11시 이내에 취소못하는 처리도 추가)

3. 루나엑스
- 매출합산 테이블 내장테이블 로직 적용

유심천
고객테스트 오후 3시

체험 MK233290	10488	1698631463	체험테스트	010-6661-3077	1231@hanmail.net
관람 MK233289	10489	1698631403	김종부2	010-6661-3076	123132@daum.net
MK233288	10487	1698631360	김종부	010-6661-3076	123123123@hanmail.net
MK233287	10485	1698394296	김종부12	010-6661-3076	123@gmail.com
MK233286	10484	1698394176	김종부	010-6661-3076	테스트@hanmail.net
MK233285	10483	1698393534	김종부	010-6661-3076	asdasd@hanmail.net


* 오늘 할 일(2023-10-31)
완료 - 1. 핀크스
- CSS화면 수정
- 개인정보처리로그
완료 - 2. 루나엑스
- 매출합산 테이블 대체


1순위
완료 - 통합예약조회
완료 - 경기진행관리 => 홀별경과시간
완료 - 스코어관리 => 홀뵬스코어기록(통합검색)


* 오늘 할 일(2023-11-01)
검수요청 중 - 알림톡 확인
완료 - 문자 발송내역 상세정보 확인(WD2023-1299)
완료 - pms 확인 요청건(WD2023-1280)


* 오늘 할 일(2023-11-02)
완료 - 개발반영 후 점검 
완료 - 비즈톡 확인 점검

* 오늘 할 일(2023-11-07)
핀크스
완료 - 대기예약 등록 / 회원변경명단조회 화면 수정예정
- 디아넥스 알림톡 변경
- 매뉴얼 작성
- 신규 페이지 추가 작업


* 오늘 할 일(2023-11-08)
핀크스
완료 - 1. 알림톡
완료 - 2. 카트월별체크리스트 / 카트반기별체크리스트화면 수정예정
완료 - 3. 온천락카판매등록 페이지 락카 삭제 시 입금내역 조회 쿼리 수정
4. 개인정보처리로그 신규 페이지 추가 작업예정 (11월 15일 까지)
완료 - 업데이트 컬럼 확인
 - 삭제 확인
 - 화면 만들기


* 내일 할 일(2023-11-09)
루나엑스 
- 수정 추가
핀크스
완료 - 1.영업일보(객실/비오토피아/골프) PDF 잘림
2. 개인정보처리 로그 신규 페이지 추가

이번주 반영
WD2023-1280 - css 깨짐
WD2023-1314 - 비토주택현황조회 폰트 사이즈 확인
WD2023-1276 - 요금정산관리 - 스코어카드 // 버튼 활성화 해야함
WD2023-1270 개인정보 히스토리 // 운영DB: 트리거, 패키지 생성해야함


* 오늘 할 일(2023-11-13)
회원관리 
완료 - 혜택, 포인트, 계약정보 히스토리 테이블 생성
완료 - 트리거 생성 - 혜택, 포인트, 계약정보 히스토리 테이블 생성
- 셀렉트

완료 - 1. 혜택 : CRA04M 
 PKG_SaveMemberForm.SP_UPDATE_GOLF_BENEFITS 
 PKG_SaveMemberForm.SP_UPDATE_MERGE_BENEFITS

GOLF_PYMT_CODE            골프요금코드   
PODO_ROOM_PYMT_CODE       포도 객실요금코드
THE_ANNEX_ROOM_PYMT_CODE  디아넥스 객실요금코드      
ROOM_NO                   객실번호(주택번호)
GOLF_Y_LIMIT              골프 년 한도
GOLF_Y_M_WEEKDAY_LIMIT    골프 년 본인 주중 한도
GOLF_Y_M_WEEKEND_LIMIT    골프 년 본인 주말 한도
GOLF_Y_R_WEEKDAY_LIMIT    골프 년 추천 주중 한도
GOLF_Y_R_WEEKEND_LIMIT    골프 년 추천 주말 한도
GOLF_M_LIMIT              골프 월 한도
GOLF_M_M_WEEKDAY_LIMIT    골프 월 본인 주중 한도
GOLF_M_M_WEEKEND_LIMIT    골프 월 본인 주말 한도
GOLF_M_R_TOTAL_LIMIT      골프 월 추천 한도
GOLF_M_R_WEEKDAY_LIMIT    골프 월 추천 주중 한도
GOLF_M_R_WEEKEND_LIMIT    골프 월 추천 주말 한도 GOLF_M_R_WEEKEND_LIMIT
GOLF_R_WEEKDAY_DC_RATE    골프 추천 주중 할인율
GOLF_R_WEEKEND_DC_RATE    골프 추천 주말 할인율
GOLF_C_WEEKDAY_DC_RATE    골프 동반 주중 할인율
GOLF_C_WEEKEND_DC_RATE    골프 동반 주말 할인율


완료 - 2.포인트 : CRA05M
PKG_SaveMemberForm.SP_INSERT_POINT 
PKG_SaveMemberForm.SP_UPDATE_POINT

ALL_POINT             전체포인트  
PROSHOP_POINT         프로샵한도포인트
ALL_REMAIN_POINT      잔여포인트
PROSHOP_REMAIN_POINT  프로샵잔여포인트
USE_FROM_DATE         시작일자
USE_TO_DATE           종료일자
RELATION_TYPE         멤버사코드


완료 - 3.계약정보 : CRA03M
PKG_SaveMemberForm.SP_UPDATE_CONTRACT

RENEW_DATE 개서일자
ASSOCIATION_NUMBER 협회번호
EDDATE 만료일자
     
*오늘 할 일(2023-11-14)
완료 - 요금정산 버튼 활성화 후 반영(WD2023-1274)
개인정보처리로그 운영 씽크 반영(WD2023-1270)
PMS 확인 요청(WD2023-1280, 1314)
포캐스팅 생성 점검 후 반영예정 (WD2023-1324)


*오늘 할 일(2023-11-15)
대여품포캐스팅관리 - 업장코드 넣어서 포캐스팅? 확인!!!
작업내용 검토 확인

*오늘 할 일(2023-11-16)
완료 - 사용자관리 트리거 생성
- 페이지 화면 추가
- 사용자별 권한 관리 트리거 생성
보류 - 포캐스팅 생성

* 오늘 할 일(2023-11-17)
- 화면 조회 추가
- 사용자별 권한 관리 트리거 생성
- 포캐스팅 버튼 추가

* 오늘 할 일(2023-11-21)
완료 - 대여품 포캐스팅 생성 점검 및 반영 보고
- 행관련 업무 일정
- 루나엑스 대여품 등록

* 오늘 할 일(2023-11-22)
- 대여품 포캐스팅 리뷰 요청
- 시간대별판매내역조회 쿼리 확인


* 오늘 할 일(2023-11-23)
완료 - 현재 법인PKG 엑셀 업로드 시 검증 항목 정리

* 오늘 할 일(2023-11-24)
완료 - (오전) HANG 관련 리스트 작성
점검 중 - 유심천 에러 확인
- 엑셀 업로드 휴대폰 검증
- 권한관리 추가/변경/삭제 히스토리

* 오늘 할 일(2023-11-27)
완료 - 권한관리 추가/변경/삭제 히스토리
- 유심천 에러 확인
- POS 시나리오 테스트 요청
- 엑셀 업로드 휴대폰 검증

* 오늘 할 일(2023-11-28)
완료 - COA01S, COB231D 테이블 씽크 확인
완료 - 유심천 에러 확인
완료 - 비오토피아 온천락카판매등록 댓글
- 페이징 처리: 내장객매출현황(작업완료), F&B매출현황, 고객구분별매출액현황조회
- 권한관리히스토리
- 엑셀 업로드 휴대폰 검증

* 오늘 할 일(2023-11-29)
- 페이징 처리:  내장객매출현황(작업완료), F&B매출현황, 고객구분별매출액현황조회 
- 엑셀 업로드 휴대폰 검증
- 권한관리히스토리



* 오늘 할 일(2023-11-30)
완료 - 엑셀 업로드 휴대폰 검증
- 권한관리히스토리
완료 - 1) 대상자를 대상으로 변경
완료 2) 그룹별권한관리 권한 부여

* 오늘 할 일(2023-12-01)
완료 - 권한관리히스토리
- 법인pkg작업

* 오늘 할 일(2023-12-04)
완료 - 템플릿 등록
완료 - 권한관련 히스토리 운영 테이블 및 트리거 생성
- 시간대별판매내역조회(식음,부대,영업장)/ 외상매출금관리상세현황 페이징처리

* 오늘 할 일(2023-12-05)
- 김치간 뮤지엄 점검
- 핀크스 메일 확인
- 유심천 쿼리 변경
- 핀크스 법인pkg 업로드 작업


- 법인 pkg 작업
1) 법인할인 고객(DC002) 공통코드
- 신규(소분류 추가한 경우): '대상': 고객명(고객번호), '작업내용': 법인할인고객 신규 생성
- 추가(사용여부 '예'로 변경한 경우): 고객명(고객번호), '작업내용': 법인할인고객 추가
- 삭제(사용여부 '아니오'로 변경한 경우): '대상': 고객명(고객번호), '작업내용': 법인할인고객 삭제

2) 회원관리_포인트저장(CR072) 공통코드
- 수정: '대상': ??, '작업내용': 회원 포인트 저장버튼 활성화 권한(n -> y)

- 법인할인 고객 신규 생성
- 법인할인 고객 수정: 
1) CR072 
- 회원관리_포인트저장 신규:
- 회원관리_포인트저장 수정:
 처리 작업리스트
내장객매출현황(완료): PKG_VisitorDiscountList.SP_SELECT_ENTR_PRICE_LIST2
F&B매출현황
고객구분별매출액현황조회



* 작업 리스트
WD2023-1336  HANG 관련  12월 20일 까지(오전)
WD2023-1268 권한관리 추가/변경/삭제 내역 히스토리 11월 29일까지(가능한 빨리 마무리)
WD2023-1354 법인PKG업로드 양식 변경 12월 8일 까지


현재 테이블 구조 상 "영업장" 별로 "모든 매출정보"는 가져올 수 있지만 
"내장객" 별 "연습장"(UPJANG_CODE = ‘1501’) 매출정보는 후불내역에서만 가져올 수 있는 상황입니다.
해당사항 연습장 매출정보 후불내역으로만 표출해도 되는지 문의 드립니다.


이재근
금년도에 법인 PKG 엑셀 업로드 관련하여, 내부에서 논의 되고 있는 방식은 다음과 같습니다.
- 現 가입 되어 있는 법인PKG 대상자 LIST 엑셀 출력
- 해당 엑셀 각 멤버사 담당자에게 전달
- 멤버사 담당자는 갱신/제외 상태값 업데이트 및 신규 대상자 ROW 추가 후 핀크스 회신
- 핀크스 담당자 회신 받은 엑셀 파일 업로드

15:45:53

+ 해야 할 일
현재 법인PKG 엑셀 업로드 시 검증 항목 정리 부탁 드립니다.
예시)
검증1. 임원 본인 성별 미 입력 시 ‘성별 확인’ 메시지 표출
검증 2. 임원 휴대전화번호 존재 시 ‘임원 휴대전화 번호 확인’ 메시지 표출
검증 목록 정리는 소스 보고 파악 하는 것이니 본인 외 담당자 지정 하여 확인 될 수 있도록 분배 바랍니다.




(신규) 권한관리로그
  - 개인정보처리시스템 접근권한 부여, 변경, 말소 내역 기록
  ex) 완료 - 계정신규생성 : 사용자관리 페이지 내용(COA01H, COA01S)
      완료 -권한등급부여, 권한그룹코드 : 사용자관리 페이지 내용
      완료 -인사정보변경 - 권한그룹코드 초기화(null값), 계정사용여부N : 사용자관리 페이지 
      사용자별권한관리 - '회원관리' 추가 : 사용자별 권한 관리 (사용자 리스트 테이블:COA01 / TOP메뉴 테이블 COB111D / 메뉴테이블 )

사용자관리 : 계정 신규, 권한등급 부여, 권한그룹코드, 계정사용 여부
  - /sys/SysUserMngm_Control.do
  트리거 완료 - // 사용자 생성 : 사용자 생성(COA01S) => 메뉴 권한 생성(COB231D)
  
  // 사용자 수정 : 권한(COB231D) 삭제 후 새로 생성 => 사용자 수정(COA01S)
                -- USER_ID       직원 아이디          
                -- EMP_NAME      직원명        
                -- PASSWORD_CODE 비밀번호    
                AUTH_GROUP_CODE  권한 그룹 코드 => NULL값인 경우 다르게 표시
                PERMISSION_CODE  권한 등급 코드
                USE_YN           사용여부      => N값인 경우 다르게 표시
                -- REMARK           비고
                -- LOGIN_FAIL_CNT = 0


 트리거 완료 - // 사용자 삭제: 권한(COB231D) 삭제 => 사용자 삭제(COA01S)

사용자별 권한관리: 메뉴 권한 추가, 제거 작업


/crm/SaveGuestForm.do 일반고객관리
/crm/SaveMemberForm.do 회원관리


법인 PKG 업로드
- CRA06M 테이블 설계


작업 리스트
WD2023-1336  HANG 관련  12월 20일 까지(오전)
WD2023-1268 권한관리 추가/변경/삭제 내역 히스토리 11월 29일까지(가능한 빨리 마무리)
WD2023-1354 법인PKG업로드 양식 변경 12월 8일 까지



